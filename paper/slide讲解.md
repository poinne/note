### slider讲解



#### **单速率网格压缩**

声音、图像和视频的结构在编码器和解码器中是预先已知的。但是，3D网格的结构不一定是规则的，其连接性在压缩前对于编码器来说是完全未知的。因此，除了必须像为图像编码像素颜色那样编码几何信息（顶点位置）之外，网格编码器还必须编码网格的连接性，即网格的拓扑信息。



**拓扑信息的压缩**

本节提到的压缩率仅涉及到连接性，不包含几何压缩率

所有连接性压缩技术的基本原则是对网格元素进行遍历，重新对遍历的网格元素进行编号，最后对新编号进行编码。

- 三角带编码：三角带是一个顶点序列，其中每个添加的顶点与前两个顶点组成一个新三角形（理想情况下每添加一个新的顶点都可以定义一个新的三角形的连接信息），但是顶点需要按照相同顺序添加。
  - 广义三角带是对三角带的扩展，添加的顶点可以不按照顺序，并且可以添加虚拟的三角形，以维持带不断。
  - 在广义三角带中，许多内部顶点被多次编码，将顶点放入16位队列，用队列编号引用顶点，但是效率没有多少提高。
  - 最终连接性的压缩率为3.3~9，8bpv
- 生成树编码：通过两个生成树（顶点生成树和三角形生成树）来编码网格（2.5~6bpv)

- 三角形遍历编码：通过广度优先遍历三角形并生成树来编码网格。 比如EdgeBreaker：

  ![image-20240724110052563](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724110052563.png)

  Edgebreaker算法的工作流程

  1. **初始化**：从一个种子三角形开始，选定一个初始活动门。
  2. **遍历和编码**：根据当前三角形X与相邻三角形的拓扑关系，选择合适的符号（C、L、R、E、S）进行编码。
  3. **移除和更新**：将当前三角形X移除，并更新活动门为下一个待处理三角形的边。
  4. **重复**：重复步骤2和3，直到所有三角形都被编码。

  优点和压缩效率

  - **简单性**：算法简单，编码和解码过程都具有线性时间复杂度。
  - **固定格式**：每个三角形对应一个符号，保证了较低的编码成本（4 bpv）。
  - **高效性**：通过熵编码进一步压缩，实际编码率可以达到1.8到2.4 bpv。

- 阈值编码：由初始三角形形成的边界，并通过迭代添加相邻顶点来扩展这个边界。并编码每个新插入的顶点的局部连接性。
  - 阈值编码的“阈值”并不是一个具体的数值，而是一种编码方式，用于表示新顶点与现有顶点之间的关系或连接性。这个阈值通常表示为一组已知顶点的标识符，表示新顶点如何与这些顶点连接。

- 拓扑扩展：之前提到的算法很多只能用于0genus并且无边界的网格，这些方法通过拓扑扩展可以用于有边界以及孔洞的网格。不同的方法拓扑扩展的方式也不同【主要是通过一些额外的信息编码】
- 多边形网格的压缩：（1）将多边形拆分为三角形，然后使用三角形的方法。（2）基于阈值的方法。
- 体网格的压缩：旨在有效地减少数据量，同时保留必要的信息。这些方法包括生成树方法、边界扩展方法、阈值驱动方法、原始方法和通用算法等。但是对于这些方法的介绍不多，不是很理解。

#### **几何信息的压缩**

网格几何的压缩首先对所有顶点坐标的量化。然后，在每次压缩迭代中，通过已编码邻居的位置预测编码顶点的位置。如果预测准确，则预测误差较小（这里指的是数值小，变化范围小，方便使用熵编码），因此可以高效地进行熵编码。																							

- 量化

  - 标量量化将浮点数的位置转换为整数位置。网格的包围盒被划分为一个3D网格。每个轴的单元数取决于可以用量化比特编码的最大整数。每个单元的大小可以是均匀的或不均匀的。网格的每个顶点被移动到它所属的单元的中心。然后，整数位置由单元的三个索引坐标（轴）组成。

  - 向量量化是一种替代技术，它将要量化的点集划分为任意形状的组。量化单元不再是长方体。它们的形状可以更好地适应数据。然而，量化单元的确定可能会导致计算密集型工作。
  - 量化会轻微改变网格的几何，但是不会改变网格的连接性。
  - 三角网格几何可以以大约**8.5比特/顶点**的压缩率进行压缩，量化为8位。

- 预测

  - 根据已知顶点的位置信息预测新的顶点的位置，有多种预测方式（如增量预测、线性预测、平行四边形预测、双平行四边形预测或多个平行四边形的均值、加权平行四边形、泰勒展开等）。
  - ![image-20240724133247969](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724133247969.png)
  - 不太理解预测的意思

**压缩方法**

- 通过构建一个网格遍历树，定义网格顶点的遍历顺序，以最小化顶点的预测误差（有利于cad模型，因为cad模型几何不光滑）

- 在3d模型中找到重复的几何模式进行几何压缩
- 几何和连接性都压缩时：网格几何首先完全独立于连接性进行压缩，通过编码量化空间的 kd-tree 分解。然后，表面重建算法通过选择新的顶点来迭代地将新三角形附加到网格的边界。对候选顶点的引用被编码。

**浮点量化恢复**

浮点坐标被分解为符号、指数和尾数分量。这些分量的预测误差在不同的算术上下文中独立压缩。该方法能够以大约 **35 比特/顶点**的速率压缩网格几何。

#### 压缩大型网格

一些模型过于庞大，无法完全加载到计算机的主内存中。

**out-of -core**：动态加载和卸载网格的不同部分，具体取决于当前处理的网格区域。



- 分区和块压缩：使用out-of-core，对于每个加载的部分，使用之前的几何以及连续性压缩的方法。（Edgebreaker +平行四边形预测）	在解压缩时通过额外的标记将分块合并。（在合并时需要同时加载多个块）
- 流式处理格式：通过动态加载和卸载网格簇，在内存占用、压缩和解压效率方面都有显著优势。避免了一次性加载大量数据的问题，能够高效处理大规模网格。（簇之间的处理不需要额外的拼接符号，减少了数据量和处理复杂性。）可以快速压缩大型网格
- Tetstreamer：用于客户端-服务器可视化，使用流式处理，对于每个簇，使用edgebreaker进行处理。

#### 压缩与remesh

对于解压缩后不需要恢复初始连接性的情况，可以不用考虑连接性，解压缩后重新网格化。

这类算法通常可以进一步降低压缩率。



**单速率压缩总结：**

![image-20240724135751030](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724135751030.png)

### 渐进式网格压缩

渐进算法使得用户可以快速显示网格的粗略版本，然后随着更多数据的解压缩，逐步细化网格，直到恢复初始模型。连接性保持方案在解压缩过程中恢复输入模型的连接性，而忽略连接性的方案则通过重新网格化来编码输入模型，以实现更高的压缩性能。

#### 保持连接性的方法

- 边缘合并

  使用边缘合并操作逐步简化网格，并通过优化过程最小化能量函数。记录并压缩相关的参数，用于解压缩（顶点分裂）的操作。

  ![image-20240724141107103](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724141107103.png)

- 顶点移除

  移除顶点，然后进行局部补丁重新三角化。

  用队列移除顶点，并标记被移除顶点周围的顶点，然后填充空洞，最后移除剩余的顶点。

  通过局部索引和全局索引来编码连接性变化，确保能够准确还原网格结构。

  同时使用重心误差预测和量化技术对几何数据进行编码，以提高压缩效率。

  ![image-20240724141509614](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724141509614.png)

- 基于几何的压缩

  顶点位置存储在 k-d 树中。初始单元沿三个轴逐次分裂，直到获得所需的几何精度。每次分裂时，编码一个子单元的顶点数量。连接性通过通用的顶点分裂和基于几何的预测机制进行编码。

  ![image-20240724143701562](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724143701562.png)

  wavemesh：（不理解）

  细分时会保存连通性的数据，用于连通性的压缩

  ![image-20240724151144854](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724151144854.png)

- 基于重建的压缩

  首先通过网格简化得到一个基础的网格，然后按照原始网格的位置添加顶点（自适应量化），然后通过边翻转以满足局部 Delaunay 属性或修复连接性漂移。（插入过程中）

  当所有原始网格的顶点都被插入后，通过边翻转恢复初始连接性，编码每条边一个比特以说明是否需要翻转。（插入完成后）

  ![image-20240724150710066](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240724150710066.png)

  **优点**：该算法具有较高的压缩效率（12 位量化约 15 bpv）和良好的速率失真性能。

  **限制**：完整的连接性恢复过程不能保证成功。

- 使用拉普拉斯的压缩 （不理解）

- 多边形网格：扩展了渐进森林分割算法、八叉树编码器

- 体网格压缩：通过边收缩+标记

#### 连接性无关的方法

当恢复初始网格连接性不是至关重要时，使用重新网格化方法可以进一步降低压缩率。

**半规则网格的波形变换**

**几何图像**

### 随机访问网格压缩方法

单率和渐进网格压缩算法的一个问题是，当用户希望访问一个非常大的网格的特定部分时，必须下载并解压整个模型。随机访问算法允许仅解压所需的部分。

#### 随机访问压缩

**集群随机访问压缩**

对输入网格进行分段，再分别进行独立压缩，同时，边界顶点的几何信息在一个序列中独立压缩。

其它的方法将序列换位三角带，再对三角带进行压缩。

- 分段和集群化：两种方法都涉及将输入网格分段为多个子集或集群，以便对各部分进行独立处理和压缩。这种分段通常基于某种优化算法，例如 Lloyd 算法，以确保分段后的图表尽可能平面和紧凑。

- 边界处理：为了避免重复压缩边界顶点的几何信息，这些信息通常在一个集群中编码一次，然后在其他集群中引用或通过预测方法进行压缩。

- 独立压缩：每个集群或子集使用特定的压缩算法（如单率角度分析编码器或 Edgebreaker 算法）进行独立压缩，以提高压缩效率和支持随机访问。

- 连接性编码：集群之间的连接性通常以多边形网格的形式进行编码，并采用特定的编码方案来减少冗余信息。

**层次随机访问压缩**

- 层次分割：这种方法将输入网格递归分割成多个部分，形成一种层次结构。每次分割操作都记录边界线的信息，并以线性预测的方法编码几何形状。

- 高随机访问粒度：通过这种递归分割，形成了一种树结构，使得只需解压特定路径上的部分即可实现高效的随机访问。

- 避免重复几何信息：类似于基于集群的压缩方法，这种方法也尽量避免在不同部分之间重复编码几何信息，从而提高压缩效率。

#### 渐进和随机访问压缩

**基于连接性的方法**

- 多分辨率随机访问网格压缩算法：

  通过顶点分割层次结构高效编码连接性和几何信息。细化区域可与粗糙区域相邻，打破了标准渐进网格表示的操作对称性。提供细粒度多分辨率随机访问，压缩性能有限。

通过顶点分割层次结构高效编码连接性和几何信息。

细化区域可与粗糙区域相邻，打破了标准渐进网格表示的操作对称性。

提供细粒度多分辨率随机访问，压缩性能有限。

**基于几何的压缩**

 渐进式算法基础上增加了随机访问支持。这些算法属于“出核”算法（out-of-core）

 Jamin 采用了nSP-tree结构，而Du et al. 则通过双层kd-tree来实现随机访问。

**连通性无关的方案**

这类方法通常利用小波分解框架，对半规则网格进行压缩。Sim et al. 和Roudet等的方法在模型编码和细化方面提供了新的策略，而Gioia等的框架允许在不解码整个模型的情况下动态修改细节

#### 紧凑表示法

  