用隐函数表示 ， 构建0等值面

几何控制

拓扑控制





2篇优化（第一篇就是要做的目标，第二篇可以参考【也许】）

5篇使用模型生成测地曲线【整理一下各自的方法和对应的优缺点】



确实要解决的问题

GNN生成零等值面

确定损失函数约束



1. 先看等值面优化的那篇文章，把要做的问题弄清楚

   明确问题的数学表达和现有优化方法的细节。以及深度学习模型需要模拟或替代的步骤。确定优化方法中的目标函数、约束条件和输入数据类型。

2. 然后先把几篇测地线的文章对比整理一下

   整理文章中用的模型和输入的数据，以及对应的优缺点。

3. 看近几年相关论文（等值面生成、曲线生成）



通过水平集的隐式表示来高效和通用的进行曲线设计。（离散曲面，光滑曲线）

高效：使用二阶优化

通用：具有平滑度、插值、切线控制、障碍物等约束



### 水平集

三个变量的水平集函数是一个曲面，两个变量的是一条曲线

![image-20240929195301510](image_list/typora-image/image-20240929195301510.png)



**水平集方法：**

如果零水平集以速度*v*沿着其法线运动，这一运动可以表示为水平集函数的*[哈密頓-雅可比方程](https://www.wikiwand.com/zh/articles/哈密頓-雅可比方程)*（*Hamilton-Jacobi equation*）:

![image-20240929195248919](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240929195248919.png)



生成初始曲线后，初始的sdf如何生成，如何对其进行更新                             



在用户手动选择了几个初始点后，通过插值或样条方法构造出初始曲线，然后通过fast matching 算法得到初始的水平集，此时的水平集是通过 $\phi(x) = 0$在网格表面隐式定义的，之后便用L-M对水平集 $\phi$ 进行优化。

L-M方法优化过程如下：

总能量包含多个项：

![image-20240929211509855](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240929211509855.png)

优化的过程就是通过调整  $\phi$  来最小化  $E_{total}(\phi)$。

$E_{shape}$ 能量中包含多个含有积分的项，这些项在离散曲面上是求和的形式。可以通过一些方式（有限差分、有限元）进行求导。

L-M 算法是牛顿法和梯度下降法的结合。它通过更新公式：

![image-20240929212014451](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240929212014451.png)

更新标量场 $\phi$：使用上面的 $\Delta\phi$ 来更新标量场$\phi$。更新后的 $\phi$ 会导致水平集发生变化，进而更新曲线的位置。



通过反复迭代上面的步骤（计算梯度、求解更新量、更新标量场），直到能量收敛或达到预定的优化目标。



**优化项**



### 偏微分方程的解

偏微分方程（PDE）的解指的是一个函数，这个函数满足偏微分方程的所有条件。简单来说，解是一个关于自变量的函数，它通过代入偏微分方程后，使得方程成立。

**1. 偏微分方程的解分类：**

根据不同的上下文，偏微分方程的解可以分为以下几类：

- **显式解（Exact Solution）**：解可以通过解析方法表示为已知函数的形式。例如，如果方程是简单的，可能通过直接积分或变换求出精确解。
  
- **数值解（Numerical Solution）**：对于大多数复杂的偏微分方程，尤其是高维或非线性方程，解析解难以找到或不存在。这时可以通过数值方法，如有限差分法、有限元法等，近似求解出解的数值表示。

- **弱解（Weak Solution）**：有些偏微分方程没有经典的解析解，但可以找到一种"弱"解，它在某种意义下满足方程。弱解通过对方程中的导数进行松弛处理，放宽对解的光滑性要求，常见于分布式求解理论中。

**2. 偏微分方程解的条件：**

通常，在求解偏微分方程时，还必须满足初始条件（initial condition）和边界条件（boundary condition）：

- **初始条件**：对于时间相关的偏微分方程（如热传导方程），解必须满足在初始时刻 $t=0$ 时，函数的特定值。
  
- **边界条件**：对于空间上的偏微分方程，解必须在空间边界上满足某些约束条件。例如，在物理问题中，边界条件可能要求解在边界处等于某一固定值（Dirichlet边界条件）或解的导数满足特定条件（Neumann边界条件）。

**3. 解的示例：**

考虑一个简单的偏微分方程，二维热传导方程：

$
\frac{\partial u}{\partial t} = \alpha \left( \frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2} \right)
$

该方程描述了热量在二维平面上的扩散情况。为了求解这个方程，我们可能需要如下条件：

- 初始条件：给定 $u(x, y, 0) = u_0(x, y)$，即在时间 $t=0$ 时，二维平面上每个点的温度分布。
- 边界条件：例如，给定 $u(x, y, t)$ 在边界 $x$ 和 $y$ 处的值，可能代表物体边界上的温度不变或其导数满足特定的热流条件。

解 $u(x, y, t)$ 就是一个关于空间变量 $x$、$y$ 和时间变量 $t$ 的函数，满足这个热传导方程及其初始和边界条件。





在 **Fast Marching Method (FMM)** 中，局部数值求解器的确与符号距离函数（signed distance function）相关，但两者并不完全相同。

### 1. **Fast Marching Method (FMM) 的局部数值求解器**

FMM 是一种用于求解 **Eikonal 方程** 的高效数值算法，特别适合计算距离场或到特定界面或曲面的最短距离。Eikonal 方程的形式为：

\[
|\nabla u(x)| = 1, \quad x \in \Omega
\]

这里的 \( u(x) \) 表示从给定起始点到 \( x \) 点的距离场。在 FMM 中，局部数值求解器通过迭代求解这个方程来更新每个网格点的距离值。

具体来说，FMM 使用**一阶差分公式**近似每个点的梯度 \( \nabla u(x) \)，并通过局部更新方法确保从已知点传播到未知点的距离场保持正确性。这种局部数值求解器依赖于特定的有限差分方法来求解近似问题，通常采用**Godunov's 方法**等以确保数值稳定性。

### 2. **符号距离函数与 FMM 的关系**

**符号距离函数**（signed distance function, SDF）是指，对于一个给定的边界或曲面，定义一个函数 \( \phi(x) \) 来表示点 \( x \) 到边界的距离，其中：
- \( \phi(x) > 0 \) 表示点 \( x \) 在边界外部。
- \( \phi(x) = 0 \) 表示点 \( x \) 位于边界上。
- \( \phi(x) < 0 \) 表示点 \( x \) 在边界内部。

FMM 主要用于构造距离场，这与符号距离函数的构造非常类似。**FMM 可以用于求解正符号的距离场（即所有点到边界的最短正距离）**，但标准的 FMM 不会直接处理负符号的情况。

### 3. **FMM 局部数值求解器与符号距离函数的异同**

- **异同点**：
  - **相同之处**：两者都涉及距离的计算。FMM 的局部数值求解器计算的是从已知边界点传播到其他点的最短距离，类似于符号距离函数的正部分。
  - **不同之处**：FMM 本身是一个计算距离的算法，而符号距离函数不仅要计算距离，还要根据点位于边界的内部还是外部确定符号。

### 4. **总结**

- **局部数值求解器**：在 FMM 中，局部数值求解器是用于求解 Eikonal 方程的数值方法，通常基于有限差分公式，通过迭代更新距离场。
- **符号距离函数**：它与 FMM 的距离场计算类似，但符号距离函数还需要额外的信息来区分内部和外部。

因此，FMM 的局部数值求解器可以被看作是一种特化形式，主要用来计算正的距离场，而符号距离函数则是距离场的更广泛推广形式。