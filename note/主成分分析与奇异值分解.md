### 主成分分析与奇异值分解

- 实对称矩阵特征值是实数
- 实对称矩阵不同特征值的特征向量相互正交

因此实对称矩阵S一定有：

<<<<<<< HEAD
<img src="https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423110435754.png" alt="image-20240423110435754" style="zoom:67%;" />

![image-20240423110842362](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112243756.png)
=======
<img src="https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423110435754.png" alt="image-20240423110435754" style="zoom:67%;" />

![image-20240423110842362](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112243756.png)
>>>>>>> b90bd3d (实验室提交)

##### 奇异值分解

**任意一个矩阵A（可以不满秩，不为方阵）都可以分解为一个正交矩阵 乘 “对角矩阵” 乘 正交矩阵。**

推导：

<<<<<<< HEAD
![image-20240423111453958](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423110842362.png)

最终可以得到：

![image-20240423111526032](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112011726.png)

$\Sigma_{ii}$就是矩阵A的奇异值，因为矩阵A的秩为r，因此r个对角线处的值不为零。

![image-20240423112011726](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423111526032.png)



![image-20240423112243756](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112443939.png)

![image-20240423112443939](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423111453958.png)

![image-20240423112646808](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112646808.png)

另一个思路，通过矩阵求导来找x：

![image-20240423113102309](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113102309.png)
=======
![image-20240423111453958](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423110842362.png)

最终可以得到：

![image-20240423111526032](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112011726.png)

$\Sigma_{ii}$就是矩阵A的奇异值，因为矩阵A的秩为r，因此r个对角线处的值不为零。

![image-20240423112011726](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423111526032.png)



![image-20240423112243756](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112443939.png)

![image-20240423112443939](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423111453958.png)

![image-20240423112646808](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423112646808.png)

另一个思路，通过矩阵求导来找x：

![image-20240423113102309](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113102309.png)
>>>>>>> b90bd3d (实验室提交)



上面两种方法得到的x等价：

<<<<<<< HEAD
![image-20240423113355947](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113355947.png)
=======
![image-20240423113355947](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113355947.png)
>>>>>>> b90bd3d (实验室提交)



当A不是列满秩，而是行满秩时：

<<<<<<< HEAD
![image-20240423113518421](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113518421.png)

![image-20240423113905448](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113905448.png)



![image-20240423114051514](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114330512.png)



![image-20240423114330512](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114051514.png)
=======
![image-20240423113518421](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113518421.png)

![image-20240423113905448](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423113905448.png)



![image-20240423114051514](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114330512.png)



![image-20240423114330512](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114051514.png)
>>>>>>> b90bd3d (实验室提交)







<<<<<<< HEAD
![image-20240423114435413](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114435413.png)



![image-20240423114718137](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115332415.png)
=======
![image-20240423114435413](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114435413.png)



![image-20240423114718137](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115332415.png)
>>>>>>> b90bd3d (实验室提交)

此时$UV^T = R,V\Sigma V^T = S$



形状匹配问题：

p可能包含拉伸或者其它非线性变换，现在想要通过一个刚性变换（旋转+平移）来近似$q --> p$的变换。

<<<<<<< HEAD
![image-20240423115054577](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115406791.png)

![image-20240423115332415](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115054577.png)

![image-20240423115406791](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115718209.png)

![image-20240423115718209](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115944007.png)

![image-20240423115735107](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115735107.png)

![image-20240423115944007](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121209714.png)
=======
![image-20240423115054577](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115406791.png)

![image-20240423115332415](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115054577.png)

![image-20240423115406791](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115718209.png)

![image-20240423115718209](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115944007.png)

![image-20240423115735107](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423115735107.png)

![image-20240423115944007](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121209714.png)
>>>>>>> b90bd3d (实验室提交)



1. 计算两个模型每个点相对于各自质心的偏移，构造出H矩阵。
2. 对H进行SVD分解，就可以得到最优旋转$R=VU^T$和相对平移$t=p_c-Rq_c$

<<<<<<< HEAD
![image-20240423120038510](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120609604.png)
=======
![image-20240423120038510](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120609604.png)
>>>>>>> b90bd3d (实验室提交)





<<<<<<< HEAD
![image-20240423120609604](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121614135.png)

这里是奇异值分布，ppt打错了

![image-20240423120724956](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121851543.png)
=======
![image-20240423120609604](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121614135.png)

这里是奇异值分布，ppt打错了

![image-20240423120724956](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121851543.png)
>>>>>>> b90bd3d (实验室提交)

将图像看作一个大型的矩阵， 对其求奇异值，可以看到前面的奇异值都很大，后面大部分的奇异值都很小，所以图像的特征大部分由前面的数值大的奇异值决定，因此可以对奇异值做一个截断，只取前面的一部分，就可以对矩阵进行压缩。

这里的保留是这样的：

<<<<<<< HEAD
![image-20240423121209714](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423122709160.png)

将奇异值$\sigma_i$按照大小排列后取前n个，后面取为0，任何矩阵乘以0都为0，也就没有了。

![image-20240423121110375](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423123217484.png)
=======
![image-20240423121209714](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423122709160.png)

将奇异值$\sigma_i$按照大小排列后取前n个，后面取为0，任何矩阵乘以0都为0，也就没有了。

![image-20240423121110375](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423123217484.png)
>>>>>>> b90bd3d (实验室提交)





<<<<<<< HEAD
![image-20240423121614135](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142116446.png)
=======
![image-20240423121614135](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142116446.png)
>>>>>>> b90bd3d (实验室提交)





<<<<<<< HEAD
![image-20240423121851543](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423122734626.png)



![image-20240423122709160](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142331340.png)

![image-20240423122734626](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120038510.png)



![image-20240423123217484](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114718137.png)

![image-20240423142116446](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120724956.png)

![image-20240423142331340](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121110375.png)

![image-20240423142425675](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142425675.png)
=======
![image-20240423121851543](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423122734626.png)



![image-20240423122709160](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142331340.png)

![image-20240423122734626](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120038510.png)



![image-20240423123217484](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423114718137.png)

![image-20240423142116446](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423120724956.png)

![image-20240423142331340](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423121110375.png)

![image-20240423142425675](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240423142425675.png)
>>>>>>> b90bd3d (实验室提交)

只能确定法向的方向，无法确定法向的正负。

