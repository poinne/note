## 基础知识

##### 坐标系

- 笛卡尔坐标系

  笛卡尔坐标系（Cartesian coordinates）就是[直角坐标系](https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%E7%9B%B4%E8%A7%92%E5%9D%90%E6%A0%87%E7%B3%BB/1835293)和斜角坐标系的统称。

  相交于原点的两条数轴，构成了平面[仿射坐标系](https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%E4%BB%BF%E5%B0%84%E5%9D%90%E6%A0%87%E7%B3%BB/3417748)。 如两条数轴上的度量单位相等，则称此[仿射坐标系](https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%E4%BB%BF%E5%B0%84%E5%9D%90%E6%A0%87%E7%B3%BB/3417748)为笛卡尔坐标系。

  两条数轴互相垂直的笛卡尔坐标系，称为笛卡尔[直角](https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%E7%9B%B4%E8%A7%92)坐标系，否则称为笛卡尔斜角坐标系。

  笛卡尔直角坐标系就是我们常见的直角坐标系，包括平面直角坐标系、空间直角坐标系。

  也就是下图中的关系：

  ![image-20240506193508874](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240506193508874.png)

  欧氏空间（或者笛卡尔空间）描述2D/3D几何非常适合，但是这种方法却不适合处理透视空间的问题（实际上，欧氏几何是透视几何的一个子集合），2D笛卡尔坐标可以表示为 (𝑥,𝑦) 。

  如果一个点在无穷远处，这个点的坐标将会 (∞,∞) ，在欧氏空间中，这就变得没有意义。平行线在透视空间的无穷远处交于一点，但是在欧氏空间却不能表示，数学家发现了一种方式来解决这个问题 （那就是 齐次坐标）。

- 齐次坐标

  (给向量添加一个维度的技巧)

  因为对于2维来说，2*2的矩阵可以表示物体的旋转和缩放，但是不能表示平移，因为平移不能直接写成2\*2的矩阵形式，所以可以添加一维，这样的话，可以统一用3\*3的矩阵来表示2维空间中的任意变换（平移、缩放、旋转）

  3维同理。

  **齐次坐标就是将一个原本是n维的[向量](https://baike.baidu.com/item/向量/1396519?fromModule=lemma_inlink)用一个n+1维向量来表示**，是指一个用于投影几何里的[坐标系统](https://baike.baidu.com/item/坐标系统/4725756?fromModule=lemma_inlink)，如同用于[欧氏几何](https://baike.baidu.com/item/欧氏几何/2650993?fromModule=lemma_inlink)里的笛卡儿坐标一般。

  齐次坐标主要有两个作用：其一是区分向量和点，其二是易于进行仿射变化

  ![image-20240506193636296](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240506193636296.png)

  如前面所述，我们**把齐次坐标转化为笛卡尔坐标的方法是前面n-1个坐标分量分别除以最后一个分量即可**。

  ![image-20240506193848690](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240506193848690.png)

  齐次坐标的规模不变性：

  ![image-20240506193802942](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240506193802942.png)

  ![image-20240506194016354](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240506194016354.png)

- 其它

  除了笛卡尔坐标系外，还有许多其他常用的坐标系，其中一些包括：

  1. **极坐标系**：极坐标系使用极径和极角来描述点的位置。极径表示点到原点的距离，而极角表示点与某个参考方向的夹角。极坐标系在描述圆形和对称性问题时很有用。
  2. **球坐标系**：球坐标系用来描述三维空间中的点，它由点到原点的距离、点与 z 轴的夹角以及点在 xy 平面上的投影的极角组成。球坐标系通常用于描述球体、球面上的点或者在球面上进行积分等问题。
  3. **柱坐标系**：柱坐标系通常用于描述三维空间中的点，它由点到 z 轴的距离、点在 xy 平面上的投影的极角以及点在 xy 平面上的投影的坐标组成。柱坐标系常用于描述柱面、柱体上的点或者在柱面、柱体上进行积分等问题。
  4. **贝塞尔坐标系**：贝塞尔坐标系是用来描述曲线和曲面的坐标系，它使用贝塞尔曲线或者贝塞尔曲面的参数方程来表示点的位置。贝塞尔坐标系在计算机图形学和计算机辅助设计等领域中被广泛应用。

##### 点积、叉积

点积（也称为内积）和叉积（也称为外积）是两种常见的向量运算，它们具有不同的性质和用途。

- 点积:

  $v_1 .v_2 = |v_1||v_2|cos<v_1,v_2> = x_1y_2 + x_2y_1$

- 叉积：

  1. $v_1 .v_2 = |v_1||v_2|sin<v_1,v_2> = x_1x_2 + y_1y_2$
  2. 两个向量外积为所在三角形面积的两倍

  ![image-20241014104914028](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241014104914028.png)

1. **点积（内积）：**
   - ![image-20240306211240057](https://raw.githubusercontent.com/poinne/md-pic/main/image-20240306211240057.png)
   - 性质：点积的结果是一个标量（数量），表示了两个向量之间的夹角关系。具体地，**如果两个向量正交（垂直），它们的点积为0；如果两个向量平行且同向，它们的点积为正；如果两个向量平行但反向，它们的点积为负。**
   - 应用：点积常用于计算向量的投影、判断向量的正交性、计算向量的夹角等。
2. **叉积（外积）：**
   - <img src="../../../AppData/Roaming/Typora/typora-user-images/image-20240306211258674.png" alt="image-20240306211258674" style="zoom:150%;" />
   - 性质：叉积的结果是一个向量，它垂直于参与叉积的两个向量所在的平面，并且符合右手法则。叉积的长度等于两个向量构成的平行四边形的面积，方向由右手法则确定。
   - 应用：叉积常用于计算平面的法线向量、计算向量的方向、计算力矩等。

总的来说，**点积主要用于衡量向量之间的夹角关系和投影，而叉积主要用于计算向量之间的垂直关系和计算与向量相关的几何量。**

##### 点、线、面的表示

###### 

![image-20241014104959725](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241014104959725.png)

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408173322464.png" alt="image-20240408173322464" style="zoom:67%;" />

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408173322464.png" alt="image-20240408173322464" style="zoom:67%;" />

- 点到直线的距离

![image-20241014105020380](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241014105020380.png)



线与线的位置关系

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408175746658.png" alt="image-20240408175746658" style="zoom:67%;" />

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408175810170.png" alt="image-20240408175810170" style="zoom:67%;" />

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408175823112.png" alt="image-20240408175823112" style="zoom:67%;" />![image-20240408175907201](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240408175907201.png)

- 点到面的距离

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408175926165.png" alt="image-20240408175926165" style="zoom:67%;" />

- 多边形的面积和周长

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240408175325514.png" alt="image-20240408175325514" style="zoom:67%;" />

推荐使用最后的求任意多边形的面积的公式，因为使用外积计算面积的公式只适用于凸多边形，对于凹多边形，还需要对多边形进行划分，得到分别的凸多边形。比较麻烦，而最后的公式直接就可以使用。

- 点到三角形的距离

这种方法需要分类讨论

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410130424852.png" alt="image-20240410130424852" style="zoom:67%;" />

- 三角形到三角形之间的距离

**二维情形**

- **6组点-面距离**：做法同上，不过要分两次，设有AB两个三角形，先求A的三个点到B的距离，再求B的三个点对A的距离，再求最小值。（两个三角形之间的距离，距离的两个点，其中一个必然落在顶点上）
- **18组点-边距离：**对三角形的每个顶点与另一个三角形的每个边求一次距离。取最小。

**三维情形**

需要6组点-面和9组边-边

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410131604772.png" alt="image-20240410131604772" style="zoom:67%;" />

- Delaunay三角剖分

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410131905797.png" alt="image-20240410131905797" style="zoom:67%;" />

- 凸包

![image-20240410132246684](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410132246684.png)

![image-20240410133332104](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410133332104.png)

![image-20240410133707868](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410133707868.png)



![image-20240410133916572](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410133916572.png)

- 最小圆覆盖

![image-20240410134216902](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410134216902.png)

- 反演变换

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410144313918.png" alt="image-20240410144313918" style="zoom:67%;" />

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410144233487.png" alt="image-20240410144233487" style="zoom:67%;" />

##### 法向

- 面的法向

- 面法向量是一个具有方向的矢量，它描述了三角形所在平面的方向。法向量本身并不具有大小，而是一个归一化的向量，其长度为1。这意味着法向量只描述了方向，而不描述强度或大小。

  可以通过计算两个边向量的叉积来获得该平面的法线向量。

  ```python
  import numpy as np
  
  # 三角形的三个顶点坐标
  P1 = np.array([x1, y1, z1])  # 第一个顶点坐标
  P2 = np.array([x2, y2, z2])  # 第二个顶点坐标
  P3 = np.array([x3, y3, z3])  # 第三个顶点坐标
  
  # 计算边向量
  v1 = P2 - P1
  v2 = P3 - P1
  
  # 计算法线向量
  normal = np.cross(v1, v2)
  
  # 归一化法线向量
  normal /= np.linalg.norm(normal)
  
  # 打印法线向量
  print("法线向量：", normal)
  
  ```

- 顶点的法向

  顶点的法向没有唯一的定义，需要借助顶点附近邻域的面积来计算。根据$\alpha_T$取值的不同而不同

  ![image-20240306211744549](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240306211744549.png)

##### 单位向量

单位向量可以通过将原始向量除以其模长来得到。

![image-20240721141017905](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240721141017905.png)

##### 梯度

梯度的定义：

![image-20240611101530619](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240611101530619.png)



##### 曲率

- 曲率是什么，为什么曲面上任意一点都有无数个曲率？

  曲率是描述曲线或曲面弯曲程度的量度。对于曲线，曲率表示曲线弯曲程度的大小，而对于曲面，则是在曲面上某一点处弯曲的程度。

  曲率的概念与微积分密切相关。在二维平面上，曲线的曲率是通过曲线的曲率半径来定义的，即曲线上某一点处的圆弧半径。曲率的倒数称为曲率半径。对于三维曲面上的点，曲率则需要考虑曲面在该点处沿不同方向的弯曲程度。

  一个关键的概念是，曲率取决于观察的角度或方向。换句话说，同一曲面上的不同方向可能会有不同的曲率。这就是为什么曲面上任意一点都有无数个曲率的原因。在三维空间中，曲面上的每一点都有一个主曲率和一个法向量，沿着法向量的方向和垂直于法向量的方向可能具有不同的曲率。

  总之，曲率是描述曲线或曲面在特定点处的弯曲程度，而曲面上任意一点都有无数个曲率是因为曲率取决于观察的角度或方向。

- **主曲率 (Principal Curvature):** 主曲率是曲面在某一点处沿着曲面上两个正交方向的最大和最小曲率。这两个方向称为主方向，对应着主曲率。主曲率与曲面的几何形状密切相关，它们决定了曲面在该点处的弯曲程度和方向。

- **平均曲率 (Mean Curvature):** 平均曲率是曲面在某一点处沿着所有可能方向的平均曲率。它是主曲率的平均值，描述了曲面在该点处整体的弯曲程度。

- **高斯曲率 (Gaussian Curvature):** 高斯曲率是曲面在某一点处曲率的乘积，它是主曲率的乘积，描述了曲面在该点处的整体凹凸性。高斯曲率是曲面局部几何性质的重要指标，它决定了曲面在该点附近是否凹陷或凸起。

- **测地曲率(Geodesic Curvature):**这是在曲面上定义的量，描述了曲线相对于曲面本身的弯曲程度。测地曲率考虑了曲线的弯曲如何相对于曲面内的地理位置变化。它是曲线在曲面上沿着其测地线（最短路径）方向的弯曲度。测地曲率的定义是

  $ 
  \kappa_g = \text{div} \left(\frac{\nabla \phi}{|\nabla \phi|}\right)
  $
  在这个定义中，$\nabla \phi$是标量场 $\phi$的梯度，$|\nabla \phi|$是梯度的模长。

  

- 两种曲率的计算：

  平均曲率：

  （求和：1邻域的每条边，每条边权重为该条边所对的两个角的cot）/ 2 LAR

  <img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410164757231.png" alt="image-20240410164757231" style="zoom:50%;" />

  高斯曲率：

  (2pi - 1领域角度之和）/ LAR

  <img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410164654963.png" alt="image-20240410164654963" style="zoom:50%;" />


**一种常用的曲率计算方式**

这个表达式代表了**水平集的曲率：**

**表达式分解：**

$ 
|\nabla \phi_i| \cdot \text{div}\left( \frac{\nabla \phi_i}{|\nabla \phi_i|} \right)
$
其中：

- **$ \nabla \phi_i$** 表示函数 $\phi_i$ 的梯度，它是一个向量，指向等值线（即水平集）法线方向。
- **$ |\nabla \phi_i|$** 是梯度的模，表示变化的速率或法线向量的长度。
- **$ \text{div}\left( \frac{\nabla \phi_i}{|\nabla \phi_i|} \right)$** 是曲率项，它表示经过归一化后的梯度（单位法向量）场的散度。

**1. 归一化梯度向量 $ \frac{\nabla \phi_i}{|\nabla \phi_i|}$：**

  - 这个项将梯度向量归一化成一个单位向量，即法向量的方向，而不考虑法向量的长度。归一化后，它代表等值线的法向量方向。

**2. 散度 $ \text{div}\left( \frac{\nabla \phi_i}{|\nabla \phi_i|} \right)$：**

  - 散度描述的是向量场在某一点的发散或汇聚程度。对于归一化后的梯度向量，散度可以描述水平集的局部几何形状。特别地：
    - 正的散度意味着等值线在该点附近是**凹的**（类似一个盆地或内部汇聚的结构）。
    - 负的散度意味着等值线在该点附近是**凸的**（类似一个峰值或外部扩散的结构）。
    - 散度为零意味着该点处的等值线是**平的**（没有弯曲）。

**3. 乘上 $ |\nabla \phi_i|$：**

  - 这个项重新加入了梯度的模，确保曲率的数值不仅依赖于方向变化（散度），还考虑了法向量的大小。它使得最终的曲率不仅反映法向量方向的变化，还考虑了水平集曲面上的形状变化速度。

**总结：**

该表达式实际上是用于计算曲率的一个经典公式，尤其是在水平集方法中，用来描述水平集在每个点处的几何形状（局部凹凸程度）。其中，**散度**部分直接反映了等值线的弯曲程度，而**梯度的模**用来重新加权这个变化，使其考虑到法向量的长度。

##### 三角网格

三角网格的数据结构：
(1). 描述顶点位置的信息，$V={v_1,v_2,\cdots,v_n}$。其中$v_i \in R^3$。
(2). 描述三角面片的信息，$F = {f_1,f_2,\cdots,f_m}$。其中$f_i$表示顶点的位置索引
除了这些必要信息，还可以包含诸如法向、纹理坐标等附加信息。

- obj数据格式

![image-20240229210953197](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240229210953197.png)

**1.1 几何顶点：**
以字母v开头指定顶点。后面是(x,y,z[, w])坐标。w是可选的，默认为1.0。
**1.2 三角面片：**
以字母f开头指定三角面片。面是使用顶点、纹理和法线的索引来定义的，格式为：

```
vertex_index/texture_index/normal_index
```

其中索引从1开始。
**1.3 法向量：**
以字母vn开头，后面添加x y z作为空间向量。某个平面上的法向量的计算可以通过平面上任意两个不相关向量的差积，然后单位化来获得。
**1.4 对象名和多边形组名**
一个OBJ文件可能包含多个物体对象，每个对象又由多个多边形组成。

**1.5 平滑着色**
平滑着色指跨多边形的边界着色，默认情况下平滑着色是关闭的。
**1.6 引用材料：**
.mtl文件用于存储.obj文件访问的材料定义。比如木头、粗铁、黄铜等材料的定义。
一个.mtl文件可以定义多个材料，材料定义的格式：

```
newmtl [material name]
Ka r g b		#材质的环境颜色
Kd r g b		#材质的漫反射颜色
Ks r g b		#材质的镜面反射颜色
d alpha			#材质的透明度，默认值为1.0(完全不透明)，与Tr完全相反。
Tr alpha		#材质的透明度，默认值为0.0(完全不透明)，与d完全相反
Ns s			#材质的光泽度，默认值为0.0
illum n			#材质的光照模型，illum=1表示材质没有高光，不需要Ks值。illum=2表示材质存在镜面高光，需要指定Ks值。
map_Ka file	#环境颜色纹理贴图文件
map_Kd file	#漫反射纹理贴图文件
map_Ks file	#高光反射纹理贴图文件
map_d file	#透明纹理贴图
map_bump file
bump file	#凹凸贴图
disp file	#置换贴图
decal file	#模板贴花纹理
```

- off数据格式

![image-20240229211240921](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240229211240921.png)

索引下标是从0开始的

例子：

![image-20240229211530635](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240229211530635.png)

**亏格（genus）**：影响表面连续性的分割曲线条数

**各向同性网格**和**各向异性网格：**

1. **各向同性网格 (Isotropic Mesh)**

- **定义**：各向同性网格是指在所有方向上具有相同特性的网格。在这种网格中，单元（如三角形或四边形）的形状和尺寸在各个方向上都是一致的。这个特性使得网格在处理均匀或各向同性的物理问题时，具有一致的性能表现。
- **特点**：单元的形状接近正形（如正方形、等边三角形），且网格细化时各方向上的细化程度相同。
- **应用场景**：适用于物理特性在各个方向上均匀分布的问题，如均匀材料的热传导模拟。

2. **各向异性网格 (Anisotropic Mesh)**

- **定义**：各向异性网格是指在不同方向上具有不同特性的网格。这种网格中的单元形状和尺寸在某些方向上比其他方向更长或更短。各向异性网格通常用于处理那些在不同方向上具有显著差异的物理问题。
- **特点**：单元形状通常是拉伸的，例如长条形三角形或矩形。网格的细化在某些特定方向上会更密集。
- **应用场景**：适用于具有各向异性特性的物理问题，如层状材料的应力分析、空气动力学模拟中流体边界层的细化。

**区别总结**

- **形状和尺寸**：各向同性网格中，单元的形状和尺寸在各个方向上均匀，而各向异性网格则会在特定方向上拉伸或压缩单元。
- **应用**：各向同性网格适合均匀分布的问题，而各向异性网格更适合在特定方向上需要更高精度的模拟问题。

**例子**

- **各向同性网格例子**：一个球体表面上的均匀三角形网格，每个三角形的形状和面积都非常接近。
- **各向异性网格例子**：风洞模拟中的飞机机翼表面网格，网格在机翼的前缘和后缘方向上更密集，以更精细地捕捉流体边界层的细节。

**Mesh和Grid：**

在图形学中，虽然“mesh”和“grid”都可以翻译为“网格”，但它们通常指代不同的概念，有不同的用途。

1. **Mesh（网格）**

- **定义**：Mesh 通常指的是由顶点（vertices）、边（edges）和面（faces）构成的多边形网格。它用于表示三维几何形状和表面。Mesh 是图形学中用来描述复杂几何形状的基本结构，可以是三角形网格（最常见的）或四边形网格等。
- **用途**：广泛用于三维建模、计算机图形学、动画、物理模拟（如有限元分析）、以及3D打印等领域。Mesh 可以表示复杂的三维形状，如人物模型、建筑物等。
- **特点**：Mesh 注重形状和结构的精确表示，面通常是三角形或四边形，并且顶点的位置可以不规则分布。

2. **Grid（栅格/网格）**

- **定义**：Grid 通常指的是一个规则的、结构化的网格，通常是由直线交叉形成的规则矩形或正方形格子。Grid 更多用于表示空间的划分或数据的结构化排列，通常是在二维或三维空间中。
- **用途**：常用于数值计算、图像处理、物理场模拟（如流体模拟中的网格化空间）以及纹理映射等领域。Grid 也被用于定义一些规则的坐标系或采样点。
- **特点**：Grid 的结构通常是规则的、均匀分布的，可以是二维（如图像像素网格）或三维（如体素网格）。Grid 的重点在于规则性和对空间的划分。

**总结**

- **Mesh**：表示复杂几何形状，通常是不规则分布的顶点、边和面组成的多边形网格。
- **Grid**：表示规则的空间划分，通常是由均匀分布的点或线构成的规则网格结构。

**例子**

- **Mesh**：一个角色的3D模型，由多个三角形面组成，形状不规则。
- **Grid**：一张2D图像的像素网格，或三维空间中均匀分布的采样点。

##### 变换

[基本变换](https://www.zhihu.com/tardis/zm/art/96717729?source_id=1005)

线性变换：

- 变换前是直线变换后仍是直线（平行关系）
- 直线比例保持不变（比例关系）
- 变换前是原点的，变换后依然是原点

常见的线性变换矩阵如下：

![image-20240506202058597](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506202058597.png)

变换可以分为三种：

- **刚体变换**

  是指在三维空间中，把一个物体做旋转、平移，是一种保持物体大小和形状不变的仿射变换，刚体变换又称为**欧式变换、齐次变换**。

- **仿射变换**

  是指物体从一个向量空间进行一次线性变换并接上一个平移，变换到另一个向量空间。平移、旋转、缩放、剪切、反射以及它们任意次序的组合都是仿射变换

  仿射变换 = 线性变换 + 平移

  特点：

  - 平行关系不变
  - 比例关系不变

  ![image-20240506201900676](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506201900676.png)

- **投影变换**

  ![image-20240506202928135](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506202928135.png)

三种变换的关系：

![image-20240506202839053](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506202839053.png)

![image-20240506202659786](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506202659786.png)

- 非线性变换



**1. 线性变换**

![image-20240304205209338](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240304205209338.png)

![image-20240304205331593](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240304205331593.png)



可以通过一系列的原子变换的复合来实现，包括：**平移（Translation）、缩放（Scale）、翻转（Flip）、旋转（Rotation）和剪切（Shear）**。

##### 拓扑

> 所谓“拓扑”，就是把实体抽象成与其大小、形状无关的“点”，而把连接实体的线路抽象成“线”，进而以图的形式来表示这些[点与线](https://www.zhihu.com/search?q=点与线&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A1605162859})之间关系的方法，其目的在于研究这些点、线之间的相连关系。表示点和线之间关系的图被称为[拓扑结构图](https://www.zhihu.com/search?q=拓扑结构图&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A1605162859})。
>
> 拓扑结构与几何结构属于两个不同的数学概念。
>
> 在几何结构中，我们要考察的是点、线之间的位置关系，或者说几何结构强调的是点与线所构成的形状及大小。如梯形、正方形、[平行四边形](https://www.zhihu.com/search?q=平行四边形&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A1605162859})及圆都属于不同的几何结构，但从拓扑结构的角度去看，由于点、线间的连接关系相同，从而具有相同的拓扑结构即[环型结构](https://www.zhihu.com/search?q=环型结构&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A1605162859})。也就是说，不同的几何结构可能具有相同的拓扑结构。

简单来说，拓扑表现的就是将物体连续形变之后保持不变的性质。

##### 流形

计算机图形学上，通常说的流形是一种几何模型表面（不是所有几何表面都是流形），即二维流形。这种流形在数学上对应的实际上是最简单的流形——拓扑流形。

二维拓扑流形是什么意思呢？二维拓扑流形就是说，流形上的每个点都有一个邻域，这个邻域能够与欧几里得平面（就是普通意义上的平面）的某个区域一一连续对应（局部同胚）。

如果网格的每个边最多被两个面片共用，那么这个网格就是流形网格，否则称为非流形网格。

流形与曲面的区别：

**流形（Manifold）**：

- **定义**：流形是一个在每个点都近似于欧几里得空间的拓扑空间。更正式地说，一个 n-维流形在每个点的邻域都可以映射到 n-维欧几里得空间$ Rn\mathbb{R}^nRn$。
- **维度**：流形可以有任意维度。例如，曲线是一维流形，曲面是二维流形，更高维的流形在三维空间中难以直观想象。
- **例子**：二维球面（地球表面）是一个二维流形，每一点的邻域看起来像一个平面。三维空间也是一个三维流形，每一点的邻域看起来像一个三维欧几里得空间。

##### watertight mesh

“Watertight mesh”指的是一种三维网格，其特性是没有任何缝隙或漏洞，能够完全封闭。具体来说，这种网格满足以下条件：

1. **闭合性**：网格的所有面都连接在一起，形成一个封闭的表面。
2. **无自交**：网格不包含自相交的边或面。
3. **无缝隙**：网格表面上的任何两个相邻面之间都没有间隙，确保没有漏水的可能。

**曲面（Surface）**：

- **定义**：曲面通常指二维流形，特别是在三维空间中的曲面。
- **例子**：地球表面、椭球面、抛物面等。

**总结**：每个曲面都是一个流形（特别是二维流形），但流形的概念更广泛，可以有任意维度。

- 流形网格：局部同胚与圆盘– 每个边只连接一个或者两个表面– 表面上相邻顶点形成一个封闭或开放式扇形 

  <img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240509161111748.png" alt="image-20240509161111748" style="zoom:50%;" />

- 非流形网格：局部与圆盘不同胚

  <img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240509161124109.png" alt="image-20240509161124109" style="zoom:50%;" />

- 开网格：具有一条或多条边界
  
  - 边界边：只连接一个入射的表面，或者说顶点只连接一个开的扇形
- 闭网格：不存在边界
- 欧拉-庞加莱特性

![image-20240509161246654](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240509161246654.png)

##### 复数平面

数学中，**复数平面**（complex plane）是用水平的**实轴**与垂直的**虚轴**建立起来的[复数](https://baike.baidu.com/item/复数/254365?fromModule=lemma_inlink)的几何表示。它可视为一个具有特定代数结构**笛卡儿平面（实平面）**，一个复数的实部用沿着 x-轴的位移表示，[虚部](https://baike.baidu.com/item/虚部/5231815?fromModule=lemma_inlink)用沿着 y-轴的位移表示。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610125814654.png" alt="image-20240610125814654" style="zoom:67%;" />

##### 共形映射

**共形映射（Conformal Maps）**：

- **定义**：从一个曲面 MMM 映射到复平面 CCC 的映射 f:M→Cf: M \rightarrow Cf:M→C，当且仅当该映射保持切平面上向量的角度，即保持局部形状不变，但允许缩放。
- **领域**：复分析（Complex Analysis）。

**全纯映射（Holomorphic Maps）**：

- **定义**：一个满足 Cauchy-Riemann 方程的函数 fff。这类映射不仅共形，还在每个点上都有复导数。
- **领域**：复分析（Complex Analysis）

##### 几何拓扑

这个定义涉及到二维流形的欧拉示性数（Euler characteristic）和属（genus），以及它们在网格拓扑学中的应用。我们来详细解释一下：

1. **欧拉示性数 (Euler characteristic) $\chi$**：
   - 欧拉示性数是一个描述网格拓扑类型的量。对于一个二维流形（例如一个表面），欧拉示性数定义为 $\chi = v - e + f$，其中：
     - $v$ 是网格的顶点数。
     - $e$ 是网格的边数。
     - $f$ 是网格的面数（通常是三角形面片）。
   - 欧拉示性数 $\chi$ 是一个拓扑不变量，也就是说，对于同一个拓扑类型的物体，它的欧拉示性数是固定的，不随网格的具体形状或细节变化。

2. **属 (genus) $g$**：
   - 属 $g$ 是一个表示网格“把手”数量的量。直观地说，属是一个物体的孔洞数量。例如，一个圆环的属为1，一个双环的属为2。
   - 一个网格的属 $g$ 可以通过在不使网格断开的情况下沿 $2g$ 个闭合回路切割得到。例如，一个球面（无孔）的属为0，一个环面的属为1。

3. **欧拉示性数的另一种表示**：
   - 欧拉示性数还可以表示为 $\chi = 2(s - g) - b$，其中：
     - $s$ 是网格的连通分量数量。
     - $b$ 是网格的边界环数量。
   - 这个公式提供了另一种理解网格拓扑结构的方法。

4. **低属和大量面片的二维流形网格的性质**：
   - 对于一个低属且有大量面片的二维流形可定向三角网格，可以证明它的面片数量大约是顶点数量的两倍。也就是说，面片数量 $f$ 和顶点数量 $v$ 之间的关系近似为 $f \approx 2v$。
   - 此外，这样的网格的顶点的平均连接数（即平均度数）是6。平均连接数表示一个顶点通常连接的其他顶点数量。对于一个规则的三角形网格，每个顶点平均连接6条边。

**网格的可定向性：**

1. **面片的方向性**：
   - 一个面的方向性是指它的顶点的循环顺序。例如，一个三角形面片有三个顶点，假设这些顶点分别是 $v_1$, $v_2$, $v_3$。如果按顺序排列为 $v_1 \to v_2 \to v_3 \to v_1$，这个顺序就表示了面片的方向性。
   - 换句话说，方向性定义了面片的“正面”和“背面”。

2. **相邻面片的方向性兼容性**：
   - 网格中的两个相邻面片方向性是兼容的，当它们的方向性相反时。例如，假设面片 $F_1$ 的顶点顺序是 $v_1 \to v_2 \to v_3$，而相邻面片 $F_2$ 的顶点顺序是 $v_3 \to v_2 \to v_4$。如果这两个面片是共享边 $v_2 \to v_3$，那么 $F_1$ 和 $F_2$ 的方向性是相反的，这种情况就是方向性兼容的。

3. **网格的可定向性**：
   - 一个网格被称为可定向的，当所有面片的方向性都是兼容的。这意味着在整个网格中，可以找到一种统一的方向性分配，使得所有相邻面片的方向性都是相反的。
   - 可定向性是一个全局性质，它确保了网格在拓扑上的一致性，可以定义“内”和“外”。

- 有一个简单的三角形网格，其中所有面片的顶点顺序都能按照上述方式确定，并且保证相邻面片的方向性总是相反的，那么这个网格就是可定向的。
- 一个常见的非可定向网格例子是“莫比乌斯带”，它是一种拓扑结构，在任何尝试分配统一方向性时都会失败。



##### 复数

![image-20240610131659042](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610131659042.png)

##### cauchy-Riemann方程

![image-20240610133216616](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610133216616.png)

**全纯映射（Holomorphic Maps）**：

- **定义**：一个满足 Cauchy-Riemann 方程的函数 f。这类映射不仅共形，还在每个点上都有复导数。
- **领域**：复分析（Complex Analysis）。

##### 半边数据结构

[CSDN](https://blog.csdn.net/outtt/article/details/78544053)、[博客园](https://www.cnblogs.com/jeasonliu/p/9098572.html)

半边数据结构仅支持流形网格

![image-20240506205615435](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506205615435.png)

由顶点、半边和面组成。最大特点是半边，每个边分为两个半边，每个半边都是一个有向边，方向相反。如果一个边被两个面片公用，则每个面片都能各自拥有一个半边。如果一个边仅被一个面片占用（边界边），则这个面片仅拥有该边的其中一个半边，另一个半边为闲置状态。每一条半边仅存储它的起点指针,半边数据结构仅支持流形网络。边沿逆时针方向朝向每个面。

半边的遍历：

//待补充

##### 重心坐标

**重心坐标（Barycentric Coordinates）是一种用来描述三角形内的点位置的坐标系统。**

重心坐标通常指的是三角形内部任意点相对于三个顶点的位置关系的一种表示方法，而不是指三角形的重心。

在三角形中，任意一点都可以表示为三个顶点的加权和，这三个顶点构成了三角形的顶点。重心坐标就是用来描述这三个顶点的权重，从而表示三角形内的点。

**对于给定的三角形ABC和其中的一点P，其重心坐标可以表示为$(w_A,w_B,w_C)$，**其中：

- $w_A$ 是点P相对于顶点A的权重，
- $w_B$ 是点P相对于顶点B的权重，
- $w_C$ 是点P相对于顶点C的权重。

重心坐标有一个重要的性质，即三个权重的总和等于1，即 $w_A+w_B+w_C=1$。

**重心坐标常常用于在三角形内插值某些属性，比如颜色、纹理坐标、法向量等。**

利用重心坐标插值三角形顶点的任何属性，注意：如果三角形经过投影后，重心坐标可能会改变。所以如果要插值属性，一定要在三维空间中利用重心坐标插值，不要投影后才插值。

- 计算重心坐标的方法

  1. 面积法：利用向量叉积求面积，通过面积计算

     ![image-20240306181929525](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240306181929525.png)

  2. 公式法：用已经推出的公式计算

     ![image-20240306181939867](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240306181939867.png)

##### 梯度和散度

1. **梯度**：
   - 在标量场中，梯度表示标量场在某一点上变化最快的方向和速率。如果有一个标量函数 $f(x,y,z)$，其在三维空间中的梯度记作 ∇*f*，其中 ∇ 称为“nabla”或“del”操作符，表示求偏导数。梯度的方向即函数在该点上变化最快的方向，而梯度的大小表示该变化的速率。
   - 在二维情况下，梯度表示函数在平面上变化最快的方向和速率。梯度是一个二维向量，其两个分量分别对应函数在 x 和 y 方向上的偏导数。
   - 例如一个二元函数$f(x,y)$，则$grad f(x,y)$就是各点处指向函数上升最快的方向![image-20240306183510311](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240306183510311.png)

2. **散度**：

   - 在向量场中，散度描述了向量场在某一点上的流出或流入程度。如果有一个向量函数 F**(*x*,*y*,*z*)=(*P*(*x*,*y*,*z*),*Q*(*x*,*y*,*z*),*R*(*x*,*y*,*z*))，**其在三维空间中的散度记作 ∇⋅**F**，表示对该向量场的每个分量分别求偏导数后的和。如果散度为正，表示向量场在该点上存在流出的趋势；如果散度为负，表示向量场在该点上存在流入的趋势；如果散度为零，表示向量场在该点上没有流动，是一个“源”或“汇”

   - 有点像二维坐标系下的二阶导，在函数的局部极大值处小于0，在函数的局部极小值处大于0

##### 拉普拉斯算子

[拉普拉斯直观化](https://www.bilibili.com/video/BV1Ko4y1p7u2/?spm_id_from=333.337.search-card.all.click&vd_source=2e98b966c822e6a865545a98581286ce)

![image-20240506211826277](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506211826277.png)



![image-20240410195549510](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410195549510-1715001354615.png)

这个黄色的向量就是laplace算子，根据求黄点时的权重不同，分为不同的laplace算子。比如：1邻域所有点权重都为1，那黄点就是1邻域所有点的中心，那么就叫做uniform laplace算子。如果使用cot角作为权重，那么就是cot laplace算子。

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410195844340.png" alt="image-20240410195844340" style="zoom:50%;" />

**离散laplace算子：**

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410200027242.png" alt="image-20240410200027242" style="zoom:50%;" />



拉普拉斯也是平均曲率流的离散形式：

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410200952324.png" alt="image-20240410200952324" style="zoom:50%;" />

所以，如果知道顶点的平均曲率，也可以直接使用平均曲率，而不使用laplace：

此时的H就是平均曲率。

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410202103696.png" alt="image-20240410202103696" style="zoom:50%;" />

不同权重的laplace算子：

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410201224053.png" alt="image-20240410201224053" style="zoom:50%;" />

平均权效果不好，会有自交现象，建议都是用cot权。

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240410202225534.png" alt="image-20240410202225534" style="zoom:50%;" />![image-20240410203139924](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240410203139924.png)

**拉普拉斯算子、拉普拉斯-贝尔特拉米算子、离散拉普拉斯算子：**

拉普拉斯-贝尔特拉米算子（Laplace-Beltrami Operator）：拉普拉斯-贝尔特拉米算子是在曲面流形上定义的拉普拉斯算子的泛化形式。它用于描述曲面上的函数的局部特性，例如曲率和变化率。在曲面上，拉普拉斯-贝尔特拉米算子由曲面的度量和曲率定义，并用于分析和处理曲面几何中的各种任务。

拉普拉斯算子（Laplace Operator）：在欧几里得空间中，拉普拉斯算子描述了函数在空间中的二阶变化率。它通常表示为△，在笛卡尔坐标系下，拉普拉斯算子可以写成梯度的散度，即△f = ∇·(∇f)，其中∇是梯度算子，·表示散度运算符。

离散拉普拉斯算子（Discrete Laplace Operator）：离散拉普拉斯算子是对拉普拉斯算子在离散数据上的一种近似。它在离散网格或图上定义，并用于处理离散数据的平滑、滤波和特征提取等任务。离散拉普拉斯算子的定义取决于离散数据的表示方式，常见的定义方式包括有限差分和图拉普拉斯。

1. **拉普拉斯-贝尔特拉米算子（Laplace-Beltrami Operator）**：
   - **应用领域**：主要应用于曲面流形和曲面几何中。它用于描述曲面上的函数的局部特性，如曲率、变化率等。
   - **定义方式**：拉普拉斯-贝尔特拉米算子在曲面上的定义依赖于曲面的度量和曲率，通常用微分几何的方法来推导和计算。
2. **拉普拉斯算子（Laplace Operator）**：
   - **应用领域**：主要应用于欧几里得空间中的分析和偏微分方程等领域。它描述了函数在空间中的二阶变化率，常用于分析函数的平滑性、特征提取等任务。
   - **定义方式**：在欧几里得空间中，拉普拉斯算子通常表示为△，它可以写成梯度的散度形式，即△f = ∇·(∇f)，其中∇是梯度算子，·表示散度运算符。
3. **离散拉普拉斯算子（Discrete Laplace Operator）**：
   - **应用领域**：主要应用于处理离散数据，如图像、网格等。它常用于图像处理、计算机图形学等领域，用于平滑、滤波、特征提取等任务。
   - **定义方式**：离散拉普拉斯算子的定义取决于数据的表示方式，常见的定义方式包括有限差分和图拉普拉斯。在有限差分中，离散拉普拉斯算子表示为相邻节点之间的差分值。在图拉普拉斯中，离散拉普拉斯算子表示为图的邻接矩阵和度矩阵的差值。

我的理解：

Laplace-Beltrami Operator主要用于定义曲面的局部属性。

Laplace Operator用于分析和证明（理论）。

Discrete Laplace Operator用于应用，如图像、网格的处理。

##### 高阶 Laplace-Beltrami Operator

![image-20241014105156698](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241014105156698.png)

##### Lipschitz函数

**Lipschitz函数**是一种在数学分析和几何中经常用到的函数类型，它具有良好的连续性特性。具体来说，函数 $\phi: \Omega \rightarrow \mathbb{R} $ 被称为**Lipschitz函数**，如果存在一个常数 $L \geq 0$，使得对于任意的 $x, y \in \Omega$，都有：

$ 
|\phi(x) - \phi(y)| \leq L \cdot |x - y|
$

这意味着函数的变化率被一个常数 $L $ 限制。这个常数 $L$ 被称为**Lipschitz常数**。

**Lipschitz函数的性质：**

1. **连续性**：所有的Lipschitz函数都是连续的。也就是说，如果 $\phi$ 是Lipschitz的，那么它不会有突变。

2. **边界控制**：Lipschitz条件提供了对函数的变化进行控制，防止函数在某些点的突变，从而在许多应用中保证了稳定性和可靠性。

3. **零水平集**：在给定的上下文中，零水平集（即 $ \phi(x) = 0$ 的点集合）常用于表示界面或边界，Lipschitz函数的零水平集是一个良好的、相对规则的几何形状。

**应用：**

- **界面追踪**：在图像处理、计算流体力学和材料科学等领域，Lipschitz函数常用于描述界面或边界的形状，特别是在水平集方法中。
- **优化**：Lipschitz条件也是许多优化算法的基础，因为它们帮助确保收敛性。

以下是一些常见的Lipschitz函数的例子：

1. **线性函数**：
   $ 
   f(x) = ax + b
   $
   其中 $a$ 和 $b$ 是常数。对于任意的 $x_1, x_2$，我们有：
   $|f(x_1) - f(x_2)| = |a(x_1 - x_2)| \leq |a| \cdot |x_1 - x_2|$
   
   所以，Lipschitz常数为 |a|。
   
2. **绝对值函数**：
   $ 
   f(x) = |x|
   $
   这个函数在实数集上是Lipschitz的，其Lipschitz常数为1。因为：
   $
   ||x_1| - |x_2|| \leq |x_1 - x_2|
   $

3. **常数函数**：
   $ 
   f(x) = c
   $
   其中 $c$ 是常数。这个函数的变化率为0，因此是Lipschitz的，Lipschitz常数为0。

4. **平方根函数**：
   $ 
   f(x) = \sqrt{x} \quad (x \geq 0)
   $
   在区间 $[0, a]$ 上是Lipschitz的，其Lipschitz常数可以通过求导得到：
   $
   f'(x) = \frac{1}{2\sqrt{x}} \quad \text{在} (0, a]
   $
   所以，对于某个小的 $\epsilon > 0$，在小区间内可以找到Lipschitz常数。



##### Heaviside funtion

Heaviside 函数可用于水平集问题。

使用简单的 **Heaviside函数**（$ H(z)$）会导致局部最小值的问题主要源于该函数的“非平滑性”和“二值性”。具体解释如下：

**Heaviside函数的特点**

Heaviside函数 $ H(z)$ 定义为：
- $ H(z) = 1$ 当 $z \geq 0$
- $ H(z) = 0$ 当 $z < 0$

它是一种 **阶跃函数**，用于区分函数值是否大于或小于0（即零水平集）。这种函数在 $z = 0$ 处会突然变化，并且它的导数是 **Dirac delta函数** $ \delta(z)$，只在 $z = 0$ 处具有值，其他位置为零。

**局部最小值的产生：**

1. **二值化效果**：由于 Heaviside 函数只返回0或1，它会使得在优化过程中，某些局部区域的解“卡”在一个二值状态（0或1）。当 $z $ 在 $0$ 附近波动时，它不会对函数输出产生连续的影响，无法引导优化过程沿着正确的方向走向全局最小值。
   
2. **不平滑的梯度**：Heaviside函数在 $z = 0$ 处的导数是 Dirac delta 函数 $ \delta(z)$，这意味着只有在非常狭窄的零水平集上梯度才有非零值，而在其他地方，梯度为零。这个狭窄的影响范围会导致优化过程“失效”，无法有效地进行梯度下降，从而陷入局部最小值。

**改进的 Heaviside 函数（AHF）**

为了避免上述问题，使用了一种 **近似Heaviside函数（AHF）**，其定义为：
$ H_{\epsilon}(z) = \frac{1}{2} \left(1 + \frac{2}{\pi} \arctan\left(\frac{z}{\epsilon}\right)\right) $

这种改进具有以下特点：
1. **平滑性**：不同于原始的阶跃函数，近似的 Heaviside 函数 $ H_{\epsilon}(z)$ 是 **平滑的**，它在整个区域内是连续的，不会出现原始函数那样的突变。这样，梯度的计算也会是平滑的，使得梯度下降优化更加稳定。

2. **非局部性**：通过引入参数 $ \epsilon$，函数 $H_{\epsilon}(z)$ 不再仅仅作用于零水平集，而是作用于整个 $z$ 空间。即使 $z$ 离零点较远，它仍然能影响函数值。这种“扩展影响”可以引导优化过程逐渐远离局部最小值，寻找全局最优解。

3. **平滑的梯度信息**：改进后的函数的导数（即近似的 Dirac delta 函数 $ \delta_{\epsilon}(z)$）为：
   $
   \delta_{\epsilon}(z) = \frac{1}{\pi} \cdot \frac{\epsilon}{\epsilon^2 + z^2}
   $
   
   fenfenfenfenfenfenf这个导数也是平滑的，且在 $z = 0$ 附近具有较大的值，但它对 $z$ 的其他区域也有影响。因此，优化过程中在更广泛的区域内都可以获得有意义的梯度信息，避免陷入局部最小值。

**总结：**

简单的Heaviside函数由于其非平滑性和仅在零水平集上起作用的特点，容易导致梯度下降过程卡在局部最小值。而改进的平滑Heaviside函数通过扩大影响范围，增强了优化过程中对梯度信息的获取，避免了陷入局部最优，从而有助于找到全局最小值。



##### Local Averaging Region

因为三角网格上的顶点都是孤立的，没有面积，没有办法直接计算该顶点的一些微分量。LAR就是定义一个顶点的邻域，作为该顶点的面积。

不用顶点的1邻域是因为会导致重复，正常的所有顶点LAR之和为曲面的面积。（但是直接使用1邻域计算一些属性好像也没有错？）

一般有三种计算LAR的方式：

![image-20240506214955363](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506214955363.png)

1. 三角形的三个顶点之和/3，即三角形的重心
2. 取三角形邻近顶点的两条边的垂直平分线，再连接
3. 取三角形邻近顶点的两条边的垂直平分线，如果连接后的顶点在三角形之外，则直接去三角形的三个中点

**计算LAR**（第三种方法）

<img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240402114444424.png" alt="image-20240402114444424" style="zoom:50%;" />

设所求顶点为A，对于该顶点周围的1-ring三角形，有两种情况：

`通过计算两条边之间的点积，与0比较来判断该角是否为钝角，若为钝角则记下该角，并将这个三角形标记为钝角三角形。`

1. **是钝角三角形**

   对于钝角三角形，遍历每个角，分配面积给每个顶点。若该角为钝角，则分配三角形面积的 1/2，否则分配 1/4（每个顶点分配三次，因为每个顶点会遍历三遍）

   <img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240402115631211.png" alt="image-20240402115631211" style="zoom:50%;" />

2. **不是钝角三角形**

   若不是钝角，则需要计算三角形的外接圆，如下图所示，每个顶点分配的面积为该顶点相邻的三角形的 1/2

   <img src="C:\Users\YS\AppData\Roaming\Typora\typora-user-images\image-20240402115404025.png" alt="image-20240402115404025" style="zoom:50%;" />

在计算顶点的一些积分量时，可以先计算LAR量的积分，再除以LAR的面积。

##### 最小二乘法

$min\sum^n_{i=1}{(x_i-y_i)^2}$

最小二乘法也是最简单的比较方法，因为$x_i - y_i$不可导，所以取平方，但是取最小值时的参数是一样的，所以并不影响。

$||xi - y_i||^2_2$

这个符号代表的是向量$x$和$y$之间的欧几里得距离的平方。其中：

- $x$和$y$ 是两个向量。
- $||xi - y_i||^2_2$表示$x$和$y$之间的欧几里得距离，也就是它们之间的直线距离。
- 平方符号 2 表示将欧几里得距离平方，这样可以消除根号，简化计算。(计算距离时会有一个开根号操作)

##### 连续性

**参数连续性**

0. **$C^{-1}$ 连续：** 一个函数在其定义域上不连续。
1. **$C^0$ 连续：** 一个函数在其定义域上是连续的。
2. **$C^1$ 连续：** 一个函数在其定义域上是连续的，并且它的一阶导数也是连续的。这表示函数不仅在每个点上没有间断，而且在每个点处的切线也是连续的，没有突变。
3. **$C^2$ 连续：** 一个函数在其定义域上是连续的，并且它的一阶和二阶导数都是连续的。这意味着函数不仅在每个点上连续，并且在每个点处的切线是连续的，而且曲率也是连续的，没有突变。
4. **$C^3$ 连续：** 一个函数在其定义域上是连续的，并且它的一阶、二阶和三阶导数都是连续的。
5. **$C^4$ 连续：** 一个函数在其定义域上是连续的，并且它的一阶到四阶导数都是连续的。

以此类推，Ck 连续性表示函数在其定义域上的前 k 阶导数都是连续的。

![image-20240507154834029](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240507154834029.png)

曲线的连续性依赖于参数的选择，同一条曲线，参数不同，连续阶也不同。 

##### 共轭梯度法

共轭梯度法（Conjugate Gradient Method, CG）是一种迭代优化算法，主要用于解决大型线性方程组或优化问题中的二次形式问题，特别是在求解稀疏对称正定矩阵的方程时表现出色。

**共轭梯度法的特点**：

- 相较于标准的梯度下降法，CG方法能够在较少的迭代步数内收敛，因为它不会像梯度下降那样一直沿着梯度的方向振荡。
- 每次迭代不只是沿当前梯度方向更新，而是结合前一步的方向，使得每一步更新的方向与之前的方向保持“共轭”（不相关）。
- 它特别适合高维度、大规模问题，例如光刻中的掩模设计优化问题。



待补充。。





**几何连续性**

如果一个对于原本不是$C^n$连续的曲线$\varphi(t)$，存在一个参数变换$t = p(s)$，使得曲线$\varphi(p(s))$变成$C^n$连续，则称该曲线$G^n$连续。几何连续性与参数无关。

"G1 连续"、"G2 连续" 和 "G3 连续" 是描述曲线或曲面在连接点处的连续性级别，通常用于计算机图形学和计算机辅助设计（CAD）领域。这些术语描述了曲线或曲面在连接点处的光滑程度。

1. **G1 连续：** 在两个相邻曲线或曲面之间，它们在连接点处的切线方向是连续的。换句话说，虽然曲线或曲面在连接点处可能有一定的弯曲，但切线方向在连接点处是连续的，没有不连续的转折。
2. **G2 连续：** 在两个相邻曲线或曲面之间，它们在连接点处的切线方向和曲率（或曲率半径）都是连续的。这意味着在连接点处不仅切线方向连续，而且曲率也连续，没有突变或不连续的变化。
3. **G3 连续：** 在两个相邻曲线或曲面之间，它们在连接点处的切线方向、曲率和弯曲率都是连续的。这意味着在连接点处切线方向、曲率和弯曲率都没有突变或不连续的变化。

性质：

1. 条件$\frac{d\varphi(p(s))}{ds}\neq 0$保证了曲线上无奇点；
2. 几何连续性与参数选取无关，是曲线本身固有的几何性质；
3. $G^n$的条件比$C^n$的宽，曲线类型更多；

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240507160553067.png" alt="image-20240507160553067" style="zoom:67%;" />

即$G^0 = C^0$、 $G^1 : 切线连续 $ 、$G^2 : 曲率连续$  （注意：不要求相等）

##### 插值、拟合

**函数拟合**

$R^n$：n维欧式空间 ： 1D实数、2D平面、3D空间

在进行函数拟合时，选择的基函数空间应该具有完备性

傅里叶级数 ： 任何一个周期函数都可以用sin 和 cos 的线性组合表示.

找拟合函数的三部曲： 

- 到哪找？ 确定某个函数几何/空间
- 找那个？ 度量哪个函数是好的 （gauss、rbf .....）
- 怎么找？求解或优化 
  - 目标一：插值  (将数据点带入方程，得到线性方程组，解方程求出方程组中的待定系数)                       
  - 目标二：逼近（不需要拟合曲线处处经过数据点，尽量靠近即可$min\sum^n_{i=0}{(y_i-f(x_i))^2}$,对各系数求导，得法方程（线性方程组）$Ax=b$，最小二乘法

![image-20240506221749623](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506221749623.png)

![image-20240506221810728](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506221810728.png)

![image-20240506221828213](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240506221828213.png)

##### 曲线

- 参数曲线

**三次样条函数**

- 分段3次多项式好处：
  - 2次多项式无法表达拐点，不够自由
  - 高次（4次及以上）多项式拐点多，计算易出现较大误差

**Bernstein基函数**
伯恩斯坦基函数是一组多项式函数，通常用于在计算机图形学和计算机辅助设计中描述和生成曲线和曲面。它们是通过伯恩斯坦多项式得到的，这些多项式由伯恩斯坦基函数加权组合而成。

伯恩斯坦基函数的定义如下：

给定参数 t，以及一个次数为 n 的曲线或曲面，则第 i 个伯恩斯坦基函数$B_{i,n}(t)$ 定义为：

$B_{i,n}(t)=\left( \begin{array}{c} x \\ y \end{array} \right)t^i(1 -t)^{n-i}$

其中$\left( \begin{array}{c} x \\ y \end{array} \right)$表示组合数，计算方式为：

$\left( \begin{array}{c} x \\ y \end{array} \right) = \frac{n!}{i!(n-i)!}= C^i_n$

伯恩斯坦基函数的特点是：

1. 当 $t= 0$时，只有 $B_{0,n}(t)$ 为 1，其余为 0。
2. 当$t= 1$ 时，只有 $B_{0,n}(t)$ 为 1，其余为 0。
3. 在 $0 < t < 1$ 之间，伯恩斯坦基函数的取值介于 0 和 1 之间，可以看作是权重，用于对控制点进行加权组合，生成曲线或曲面的各个部分。

Bernstein基函数的性质：（$B_i^{(n)}(t) = C_i^nt^i(1-t)^{n-i}$）

- 对称性：$B_i^{(n)}(t) = B_{n-i}^{(n)}(1-t)$
- 正权性 （正性 + 权性）-->凸包性（曲线一定在控制顶点组成的多边形内部）
  - 正性：$B_i^{(n)}(t) >=0$
  - 权性：$\sum_{i=1}^nB_i^n(t) = 1$
- 基性：$B = \{B_0^{n},B_1^n,...,B_n^n\}$是次数不高于n的多项式几何的一组基。
- 递推公式：高阶的基函数由2个低阶的基函数”升阶“得到。
- 端点插值型：Bezier曲线经过首末两个顶点
- 导数
- 升阶 ： 两个低阶的可以组合为一个高阶的

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240507204304967.png" alt="image-20240507204304967" style="zoom:50%;" />

**Bezier曲线**

之前的曲线，系数顶点与曲线本身无直观的联系：无几何意义。不利于用户来交互修改曲线：设计建模。

![image-20240507164707058](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240507164707058.png)

t的取值范围为（0 ~ 1），t取的每一个值，都对应曲线上的一个点，且这个点是由所有的控制顶点加权求和得到的。

前提 ：$f(t) = at^2 + bt + c$ 做出的曲线与$a、b、c$三点的对应控制关系不明显

$f(t) = (1 0)^T(1-t)^2 + (0 0)^T2t(1-t) + (0 1)^Tt^2$  (Bernstein basis)，可以直观看出控制顶点与曲线的关系

- Bezier曲线：用Bernstein基函数所表达的曲线，n+1个控制顶点与基函数组合可生成n次Bezier曲线。
- Bezier曲线的性质来源于Bernstein基函数的性质
- Bernstein基函数的性质：（$B_i^{(n)}(t) = C_i^nt^i(1-t)^{n-i}$）
  - 对称性：$B_i^{(n)}(t) = B_{n-i}^{(n)}(1-t)$
  - 正权性 （正性 + 权性）-->凸包性（曲线一定在控制顶点组成的多边形内部）
    - 正性：$B_i^{(n)}(t) >=0$
    - 权性：$\sum_{i=1}^nB_i^n(t) = 1$
  - 基性：$B = \{B_0^{n},B_1^n,...,B_n^n\}$是次数不高于n的多项式几何的一组基。
  - 递推公式：高阶的基函数由2个低阶的基函数”升阶“得到。
  - 端点插值型：Bezier曲线经过首末两个顶点
  - 导数
  - 升阶 ： 两个低阶的可以组合为一个高阶的
- Bezier曲线的de Casteljau算法

<img src="C:\Users\YS\Desktop\note\image_list\mLearn\1\10.png" style="zoom:50%;" />

- 有理Bezier曲线 ：
  -  每个控制顶点上设置一个权系数，如权系数都相等，则退化为Bezier曲线
  -  高维Bezier曲线在某一平面的空间投影
  -  控制顶点的权系数越大，曲面就越靠近该点

**B样条曲线** 

**NURBS曲线** 

##### Voronoi

在数学中，Voronoi图是基于到平面的特定子集中的点的距离将平面划分成区域。预先指定一组点（称为种子seed，站点或生成器），并且对于每个种子，存在相应的区域，该区域由更接近该种子的所有点组成，而不是任何其他点。这些区域称为Voronoi细胞。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240507100919776.png" alt="image-20240507100919776" style="zoom:50%;" />

在最简单的情况下，如图所示，我们在欧几里德平面上给出了一组有限的点{p1，...，pn}。在这种情况下每个站点pk只是一个点，其相应的Voronoi单元Rk由欧几里德平面中的每个点组成，其与pk的距离小于或等于其与任何其他pk的距离。每个这样的单元是从半空间的交点获得的，因此它是凸多边形。 Voronoi图的边界是平面中与两个最近的站点等距的所有点。 Voronoi顶点（节点）是与三个（或更多）站点等距的点。

##### Jacobian矩阵

一般的矩阵用来表示线性变换很方便，也比较简单，但是表示非线性变换时就变得十分复杂，但是当进行非线性变换时，观察任意一个点的局部邻域，就会发现，局部邻域的非线性变换非常接近于线性变换（局部线性）：

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508155353412.png" alt="image-20240508155353412" style="zoom:50%;" />

Jacobian矩阵就是用来描述局部线性变换的矩阵。

 Jacobian矩阵在几何处理中常表示从m维到n维的线性映射, 其计算方法就是将函数值的每一维都与映射目标的每一维求导. 在参数化系列的文章中, Jacobian矩阵用来表示从原始三维表面的局部二维微分中转换到二维参数表面的变换.

假设变换前的区域面积为A，变换后的区域面积为B，则Jacobian矩阵的行列式的值就是变换前后的面积之比: A / B

##### Directional Field（方向场）

每个顶点上的一个方向

有两个属性：

![image-20240514145724571](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240514145724571.png)

![image-20240514151056921](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240514151056921.png)

##### 凸组合

1. **线性组合**：
   - 在线性代数中，给定一组向量 {𝑣1,𝑣2,…,𝑣𝑛}{*v*1,*v*2,…,*v**n*}，它们的线性组合是指通过对这些向量进行乘以某个标量，并将结果相加来得到新的向量，即 𝑎1𝑣1+𝑎2𝑣2+…+𝑎𝑛𝑣𝑛,*a*1*v*1+*a*2*v*2+…+*a**n**v**n*, 其中 𝑎1,𝑎2,…,𝑎𝑛*a*1,*a*2,…,*a**n* 是任意的实数或复数。这里的系数 𝑎1,𝑎2,…,𝑎𝑛*a*1,*a*2,…,*a**n* 可以是任意值，不需要满足任何限制条件。
2. **凸组合**：
   - 而凸组合则是线性组合的一个特殊情况，其中系数 𝑎1,𝑎2,…,𝑎𝑛*a*1,*a*2,…,*a**n* 必须满足非负条件并且总和为1，即 𝑎1+𝑎2+…+𝑎𝑛=1*a*1+*a*2+…+*a**n*=1 𝑎𝑖≥0,对于所有的 𝑖=1,2,…,𝑛.*a**i*≥0,对于所有的 *i*=1,2,…,*n*. 在凸组合中，每个向量的系数都被称为"凸系数"，并且这些系数的总和等于1。这意味着凸组合是一种平均化或加权平均的方式，因为所有系数的和为1，可以将其视为向量的加权平均。

简而言之，凸组合是线性组合的一个特例，要求系数为非负并且总和为1。

##### 线性最小二乘问题

线性最小二乘问题(Linear Least Squares Question, LLS)

![image-20240513110250649](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240513110250649.png)

![image-20240513110340011](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240513110340011.png)

![image-20240513110537972](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240513110537972.png)

![image-20240513110701556](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240513110701556.png)



##### 凸函数

凸函数的函数图象是凹的。



##### 二次能量函数（quadratic energy function）

对于二次能量函数（quadratic energy function）这样的函数，通常形式为：

![image-20240513115431590](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240513115431590.png)

对这样的能量函数求导，并令导数等于零，可以得到极小值点对应的变形后的顶点位置。这是因为二次能量函数通常是一个凸函数，其导数等于零的点对应着函数的全局最小值或者局部最小值。

因此，对于二次能量函数，令导数为零确实可以得到函数取得最小值时的$P'$。



##### 欧式几何与非欧几何

欧几里德在《几何原本》中提出了五个公理的假设，分别是：

1、任意两个[点](https://baike.baidu.com/item/点/3674706?fromModule=lemma_inlink)可以通过一条[直线](https://baike.baidu.com/item/直线/4876?fromModule=lemma_inlink)连接。

2、任意[线段](https://baike.baidu.com/item/线段/0?fromModule=lemma_inlink)能无限延长成一条直线。

3、给定任意线段，可以以其一个[端点](https://baike.baidu.com/item/端点/0?fromModule=lemma_inlink)作为[圆心](https://baike.baidu.com/item/圆心/66542?fromModule=lemma_inlink)，该线段作为半径作一个[圆](https://baike.baidu.com/item/圆/54084?fromModule=lemma_inlink)。

4、所有直角都相等。

5.若两条直线都与第三条直线相交，并且在同一边的[内角](https://baike.baidu.com/item/内角/0?fromModule=lemma_inlink)之和小于两个直角和，则这两条直线在这一边必定[相交](https://baike.baidu.com/item/相交/0?fromModule=lemma_inlink)。（等价于：**通过一个不在直线上的点，有且仅有一条不与该直线相交的直线。**）（只有一条平行线）

数学家们证明出，第5公理和前四个是独立的，

如果把第5公理修改为：**通过一个不在直线上的点，有多条不与该直线相交的直线。**（有多条平行线）

则称为罗氏几何，也叫双曲几何。

如果把第5公理修改为：**通过一个不在直线上的点，没有不与该直线相交的直线。**（没有平行线）

则称为黎曼几何，也叫椭圆几何。

###### 黎曼质心

在欧式空间中， 给定的几个顶点的质心计算公式为：

![image-20240906215807157](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240906215807157.png)

每个坐标分量分别是各点对应分量的**算术平均**。

非欧空间中，给定的几个顶点的质心的计算公式为：

![image-20240906215655646](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240906215655646.png)

在黎曼空间中，这个质心叫做黎曼质心（也叫Karcher 均值）

在欧式空间中，质心的位置可以通过简单的坐标平均值得到，这是因为欧式距离具有线性特性，即两个点之间的距离可以直接通过直线测量。然而，**非欧空间**（如黎曼流形）中距离的定义不再是线性的，而是通过**测地线**（最短曲面路径）计算的。

在这种情况下，直接取测地距离的平均值可能并不能准确描述点之间的“中间位置”，因为曲率会扭曲空间，使得平均值不再是合理的选择。通过**平方和**，可以更好地平衡不同点对质心的“拉力”，从而找到最优的质心位置。

质心计算通常可以看作是一个**优化问题**，其目标是找到一个点，使得到所有其他点的距离之和最小化。如果使用距离的平方和来进行优化，那么这个问题可以转化为一个**二次优化问题**。二次优化问题有着更好的数学性质，特别是在使用**梯度下降**或**牛顿法**等优化算法时，平方和具有连续的二阶导数（光滑性），从而使得优化过程更加稳定和有效。

##### Eikonal方程

Eikonal方程是一类非线性偏微分方程，其通用形式为：

$ 
|\nabla u(x)| = 1
$

其中，$ u(x)$ 是距离函数，$ \nabla u(x) $ 是它的梯度，描述的是从某个源点到空间中其他点的距离。

**Eikonal方程的非线性偏微分方程的粘性解是什么？**

**粘性解**（viscosity solution）是用来处理非线性偏微分方程（例如Eikonal方程）的一种特殊类型的弱解。由于Eikonal方程是非线性的，标准的解析解法通常很难应用，因此通过引入粘性解的概念来定义在经典意义下可能不存在或不连续的解。

粘性解的基本思想是通过在方程中加入一个**小的粘性项**（即通过加一个非常小的扩散项）来平滑解，从而避免奇点或不连续情况。随后将粘性系数逐渐趋向于零，从而获得原始非线性方程的弱解。这种方法特别适用于Eikonal方程，因为它的解通常会出现**尖点**（如曲面上距离函数的波前推进）。

总之，Eikonal方程的粘性解是通过这种扩展定义来处理不连续和奇点问题的解，它为求解非线性PDE提供了理论框架，并且可以通过数值方法（如快速行进法）进行近似求解。

##### 有限差分

有限差分（Finite Difference）是一种数值方法，用于求解微分方程和差分方程。它通过用差分来近似导数，从而将微分方程转化为代数方程，方便数值计算。有限差分方法在科学和工程中广泛应用，特别是在物理、流体力学、热传导和金融数学等领域。

**基本概念**

在有限差分方法中，导数被近似为相邻点之间的差值。假设我们有一个函数 $ f(x) $，其在某个点 $ x $ 的导数 $ f'(x) $ 可以用有限差分来表示：

1. **前向差分（Forward Difference）**：
   $
   f'(x) \approx \frac{f(x + h) - f(x)}{h}
   $
   这里，$ h $ 是一个小的增量。

2. **后向差分（Backward Difference）**：
   $
   f'(x) \approx \frac{f(x) - f(x - h)}{h}
   $

3. **中心差分（Central Difference）**：
   $
   f'(x) \approx \frac{f(x + h) - f(x - h)}{2h}
   $
   中心差分通常比前向差分和后向差分具有更高的精度。

**高阶导数**

对于高阶导数，有限差分也可以类似地进行扩展。例如，二阶导数 $ f''(x) $ 的中心差分公式为：
$
f''(x) \approx \frac{f(x + h) - 2f(x) + f(x - h)}{h^2}
$



有限差分法广泛应用于数值求解偏微分方程，例如热传导方程、波动方程和流体动力学方程等。其基本步骤包括：

1. **离散化**：将连续的空间和时间域离散化，定义网格点。
2. **近似导数**：使用有限差分公式在每个网格点上近似导数。
3. **构建代数方程**：将微分方程转化为代数方程，形成线性或非线性方程组。
4. **求解方程**：使用数值方法（如迭代法、高斯消元法等）求解代数方程。



**优点**：

- **简单易懂**：有限差分方法相对容易实现，适合初学者。
- **灵活性**：可以用于各种类型的微分方程。

**缺点**：

- **收敛性问题**：有限差分方法在某些情况下可能会导致数值不稳定。
- **精度问题**：使用较大的步长 $ h $ 可能导致显著的误差。

##### 范式与范数

![image-20241016212050583](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241016212050583.png)

![image-20241016212059441](https://raw.githubusercontent.com/poinne/md-pic/main/image-20241016212059441.png)

##### 微分算子

微分算子是数学中用于描述对函数进行微分操作的符号或运算符。它在微分方程、数学物理和工程中具有广泛的应用。以下是对微分算子的详细解释：

**定义**

微分算子通常用符号表示，用于对函数进行求导操作。最常见的微分算子有：

1. **一阶微分算子**：
   - **符号**：$\frac{d}{dx}$ 或 $\nabla$
   - **含义**：表示对函数进行一阶导数的操作。例如，对于函数 $f(x)$，其一阶导数可以表示为 $\frac{df}{dx}$。

2. **高阶微分算子**：
   - 表示对函数进行多次微分的操作。例如，二阶导数可以表示为 $\frac{d^2f}{dx^2}$。

3. **偏微分算子**：
   - 当函数是多变量函数时，使用偏微分算子。例如，对于函数 $u(x, y)$，其相对于 $x$ 的偏导数可以表示为 $\frac{\partial u}{\partial x}$。

微分算子在各种数学和工程问题中有广泛的应用，包括：

1. **偏微分方程（PDE）**：在描述物理现象（如热传导、流体动力学等）时，微分算子用来建立方程。例如，热方程中的温度分布由一个二阶微分算子描述。

2. **数学分析**：用于定义导数、极限等概念。

3. **数值分析**：在数值方法中，微分算子帮助建立离散化的公式，以便计算机能够进行近似求解。

以下是几个具体的微分算子的例子：

1. **一维函数**：
   
- 对于函数 $f(x) = x^2$，其一阶导数是 $\frac{df}{dx} = 2x$。
  
2. **多维函数**：
   - 对于函数 $u(x, y) = x^2 + y^2$，其偏导数为：
     - $\frac{\partial u}{\partial x} = 2x$
     - $\frac{\partial u}{\partial y} = 2y$

3. **Laplace算子**：
   
   - 在二维情况下，Laplace算子定义为 $\Delta u = \frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2}$，用于描述热传导和波动等现象。

##### 体素化

**体素化**是将一个连续的3D模型离散化为一个规则的三维网格，每个体素（voxel，体积像素）表示空间中的一个小立方体。通过体素化，可以将复杂的3D模型转化为体素网格，用布尔值或浮点值表示空间中是否存在物体。  

**体素化的过程：**

1. **将模型包裹在一个规则的三维网格中**：首先创建一个体素网格，该网格覆盖整个3D模型的边界。
2. **确定每个体素是否被模型占据**：对每个体素进行检查，判断该体素是否与3D模型相交。如果相交，则标记该体素为“1”或`True`，表示模型占据了该体素；如果没有相交，则标记为“0”或`False`，表示为空。

**举个简单的例子：**

假设有一个简单的3D球体，我们将其体素化为一个5x5x5的体素网格。

**原始3D球体（假设在原点，半径为1）**

我们把球体放入一个5x5x5的体素网格，每个体素体积是`0.5 x 0.5 x 0.5`。

**体素化结果：**

```plaintext
z = 0:
[0, 0, 0, 0, 0]
[0, 0, 0, 0, 0]
[0, 0, 1, 0, 0]
[0, 0, 0, 0, 0]
[0, 0, 0, 0, 0]

z = 1:
[0, 0, 1, 0, 0]
[0, 1, 1, 1, 0]
[1, 1, 1, 1, 1]
[0, 1, 1, 1, 0]
[0, 0, 1, 0, 0]

z = 2:
[0, 1, 1, 1, 0]
[1, 1, 1, 1, 1]
[1, 1, 1, 1, 1]
[1, 1, 1, 1, 1]
[0, 1, 1, 1, 0]

z = 3:
[0, 0, 1, 0, 0]
[0, 1, 1, 1, 0]
[1, 1, 1, 1, 1]
[0, 1, 1, 1, 0]
[0, 0, 1, 0, 0]

z = 4:
[0, 0, 0, 0, 0]
[0, 0, 1, 0, 0]
[0, 0, 1, 0, 0]
[0, 0, 1, 0, 0]
[0, 0, 0, 0, 0]
```
在这个例子中，体素化将球体表示为一系列3D立方体，占据了某些体素。

**体素化的优缺点：**

**优点**：
1. **规则网格，易于操作**：体素化后得到规则的三维网格，非常适合用于卷积神经网络（CNN）等深度学习模型中。
2. **直接表示占据信息**：体素化能直观地表示模型的占据空间，适合用来检测碰撞或计算体积。
3. **支持各种3D操作**：体素化后的模型可以方便地进行布尔运算、形态学处理等。

**缺点**：
1. **空间复杂度高**：由于每个体素都需要存储信息，分辨率较高时，体素化模型的存储需求迅速增加。例如，分辨率为`512x512x512`的体素网格需要存储超过1亿个体素。
2. **精度有限**：体素化的分辨率直接影响重建模型的精细程度，分辨率低时无法精确表示细节。
3. **离散化误差**：由于体素化是对连续几何的离散化，模型的边缘、曲面等细节会出现锯齿化或失真。

总体来说，体素化是3D重建、深度学习等任务中常用的一种表示方法，但在精度和存储需求之间需要权衡。

##### SVD分解

##### 伽辽金法与加权残差法

伽辽金法（Galerkin Method）和加权残差法（Method of Weighted Residuals, MWR）是两种用于求解偏微分方程的数值方法，它们有一些相似之处，但也存在关键的区别。

**伽辽金法**

- **基本思想**：伽辽金法通过将偏微分方程的弱形式转化为一个内积形式，使得试函数和权重函数相同。即，使用同一组基函数作为试函数和权重函数。
- **形式**：在伽辽金法中，残差被内积化为零，目标是找到一个解，使得在给定函数空间中的所有试函数上，残差的加权平均为零。
- **应用**：伽辽金法通常用于有限元方法中，适合处理复杂边界条件和不规则几何形状。

**加权残差法（MWR）**

- **基本思想**：加权残差法是一种更为通用的框架，可以使用任意选择的权重函数。残差在权重函数的作用下被加权，目标是使加权残差尽可能小。
- **形式**：在MWR中，残差的加权和通常不等于零，而是最小化某个准则（如L2范数），可以选择不同的权重函数来实现这一点。
- **灵活性**：MWR允许使用不同的权重函数，这使得它在某些情况下更灵活。例如，可以选择特定的权重函数来强调解的某些特征。

**主要区别**

1. **权重函数的选择**：
   - **伽辽金法**：权重函数和试函数相同。
   - **MWR**：权重函数可以与试函数不同，可以自由选择。

2. **目标**：
   - **伽辽金法**：直接使残差在所有试函数上内积为零。
   - **MWR**：通过最小化加权残差的某个准则来达到近似解。

3. **适用性**：
   - **伽辽金法**：通常用于有限元分析，特别是在处理边界条件和几何复杂性方面表现良好。
   - **MWR**：适用于更广泛的情况，因其灵活性可用于不同类型的方程和边界条件。

伽辽金法是加权残差法的一种特例，它在处理偏微分方程时使用了更严格的条件。MWR则提供了更大的灵活性，可以适应多种不同的求解策略和情况。两者在理论和应用上都有其独特的优势。

##### PDE的弱形式

偏微分方程的弱形式是一种将传统的强形式方程转化为更为宽松的形式，使其可以在不需要满足严格点wise条件的情况下进行求解。弱形式主要通过以下步骤构造：

**1. 从强形式出发**

首先，考虑一个典型的偏微分方程（PDE）的强形式，如：
\[ L(u) = f \quad \text{在} \ \Omega \]
其中，\(L(u)\)是一个算子，\(u\)是未知函数，\(f\)是已知函数，\(\Omega\)是定义域。

**2. 乘以测试函数**

选择一个适当的测试函数 \(v\)（通常是光滑函数），并将方程两边乘以 \(v\)，然后在定义域 \(\Omega\) 上积分：
\[ \int_{\Omega} L(u) v \, dx = \int_{\Omega} f v \, dx \]

**3. 应用分部积分**

如果需要，可以使用分部积分（或格林公式）将算子 \(L\) 的作用转移到测试函数 \(v\) 上，从而降低导数的阶数。这会引入边界项：
\[ \int_{\Omega} v L(u) \, dx + \int_{\partial \Omega} v \frac{\partial u}{\partial n} \, ds = \int_{\Omega} f v \, dx \]
其中，\(\partial \Omega\) 是边界，\(\frac{\partial u}{\partial n}\) 是法向导数。

**4. 定义弱解**

弱形式的目标是找到一个函数 \(u\) 在某个函数空间（例如，Sobolev空间）中，使得上面的等式成立。满足这个条件的 \(u\) 被称为弱解。

弱形式通过引入测试函数和积分操作，使得解的存在性和唯一性分析更加灵活。它允许解在某些点上不连续或不光滑，同时也能处理复杂的边界条件，广泛应用于有限元分析等数值方法中。

##### 弱解和近似解区别

近似解和弱解是数值分析和偏微分方程求解中两个不同的概念，它们之间有显著的区别：

**近似解**

1. **定义**：近似解是指对真实解的一个近似值或函数，通常通过数值方法（如有限元法、有限差分法等）得到。它是一个具体的、可计算的函数。

2. **性质**：近似解旨在尽可能接近真实解，通常是在特定的离散化或网格条件下得到的。近似解的质量可以通过计算误差（如L2范数、L∞范数等）来评估。

3. **形式**：近似解一般是在某个函数空间中构造的，可能是通过基函数的线性组合实现的。

**弱解**

1. **定义**：弱解是偏微分方程的一个解的概念，它在积分意义上满足方程。这种解不需要在每个点上严格满足方程，而是通过引入测试函数来构造的。

2. **性质**：弱解不要求解具备点wise连续性或光滑性，因此在某些情况下，它可以存在于更广泛的函数空间中。弱解的存在性和唯一性通常依赖于适当的数学理论（如Sobolev空间）。

3. **应用**：弱解的概念使得处理复杂边界条件、非线性问题和不规则几何形状变得更加可行。伽辽金法等方法通过弱形式得到的解通常被认为是弱解。

**总结**

- **近似解**：是对真实解的具体、可计算的近似，通常在数值方法中得到，关注的是解的逼近程度。
- **弱解**：是一种更为理论化的解的定义，关注的是在积分意义上满足方程的存在性和性质，允许解在某些区域不连续或不光滑。

在实际应用中，近似解往往是通过数值方法计算出来的，而这些方法可能会生成弱解。





##### 数学

- 机器学习中需要函数是可微的，而不是要求函数是可导的，因为可微说明函数的导数是连续的，而可导只能说明函数在任意点存在导数，但是导数不一定是连续的。 

##### 其它

- 在三角网格模型上采样指定的 nnn 个点时，情况不一定只是从已有的顶点中随机选择。根据具体的采样策略，采样点可以包括以下两种情况：
  1. **从已有顶点中随机选择**：这是最简单的采样方法，即从网格模型的所有顶点中随机选择 nnn 个点。这样采样的点一定存在于网格的顶点集中，不会出现新生成的点。
  2. **在三角面上生成新点**：在一些应用中，为了获得更均匀或特定分布的采样点，可能会选择从三角面内部采样新点。这些点可能并不存在于原有的顶点集中，而是通过插值或根据面积权重从三角形面片中生成。这种方式可以产生更加均匀分布的点，特别是在顶点分布不均匀的情况下。

- 在CG、计算机视觉、和物理学等的优化问题中，被优化的目标函数有时也称为能量**（energy）**函数。这个能量表示某个系统的能量。就比如重力势能，要求解一个物体在万有引力场中的运动轨迹及最终的稳定状态，其实也就是去最小化这个系统的重力势能的过程。

- 几何关系与拓扑关系

  1. **几何关系**：
     - 几何关系通常描述了图形的形状、大小、位置和方向等几何属性。这包括诸如点、线、曲线、曲面等的几何特征，以及它们之间的距离、角度、曲率等几何量。
     - 几何关系通常涉及到具体的数值计算和测量，如计算点的坐标、线段的长度、曲面的法向量等。
     - 几何关系在图形建模、几何处理、形状分析等方面发挥着重要作用，它们用于描述和操作图形的具体几何特征。
  2. **拓扑关系**：
     - 拓扑关系描述了图形的连接性和空间结构，而不关注具体的几何细节。它们通常涉及图形的组织结构、连接方式、边界特征等。
     - 拓扑关系通常涉及图形的拓扑结构，如点之间的连接关系、面的边界关系、图形的孔的数量等。
     - 拓扑关系在拓扑学、几何建模、图形处理等领域具有重要意义，它们用于描述和分析图形的整体结构和拓扑属性。

  总的来说，几何关系主要关注图形的具体几何特征和几何属性，而拓扑关系则更多地关注图形的连接性和整体结构。

- level set 与 sdf的区别

  符号距离场（Signed Distance Field, SDF）和水平集（Level Set）都是隐式表示几何形状的方法，但它们在处理几何形状动态变化时的内在机制不同，原因主要在于它们的设计目标和使用方法。

  **1. 符号距离场的静态性质**

  **符号距离场**本质上是一个**静态的几何表示**。它通过计算空间中每一点到几何边界的有符号距离来表示几何形状。这种距离信息是对当前形状的描述，不包含内在的时间维度，也没有与形状变化相关的机制。

  - 符号距离场的作用是提供形状的边界以及内外的距离信息，用于几何建模、碰撞检测等任务。它是某个固定形状的空间特性，不会自行变化。
  - 如果你想让符号距离场随时间演化，需要手动更新距离场的值，但这种更新没有内在的机制或方程控制。换句话说，符号距离场本身没有与时间相关的自然动态过程。

  **2. 水平集方法的动态演化**

  **水平集方法**不同的是，它不仅可以隐式表示几何形状，还专门设计用于处理几何形状的**动态演化**。水平集方法的核心思想是通过**偏微分方程（PDE）**控制隐式函数（通常是符号距离函数或标量场）的变化，从而间接控制几何形状的运动和变形。

  - 在水平集方法中，曲面或形状的变化通过一个标量函数（称为水平集函数，常表示为 $ \phi(x, y, z, t) $）的演化来实现。该函数的零等值面 $ \phi(x, y, z, t) = 0 $ 对应于目标几何形状的边界。
  - 水平集的动态演化是通过解一个偏微分方程（如Hamilton-Jacobi方程）来实现的：
    $
    \frac{\partial \phi}{\partial t} + F|\nabla \phi| = 0
    $
    其中，$ \frac{\partial \phi}{\partial t} $ 是水平集函数随时间的变化，$ F $ 是控制曲面速度的速度函数，$ |\nabla \phi| $ 是梯度的大小。这种形式的偏微分方程描述了形状随时间的运动，可以控制曲面的演化速度、方向、拓扑变化等。
    
  - **动态演化的关键**：水平集方法使用偏微分方程来更新隐式函数的值，间接控制曲面的形状和运动。这种更新是基于时间的演化方程，因此是内生的，可以自然描述曲面或形状随时间的变化，包括分裂、合并等复杂的几何拓扑变化。

  **为什么符号距离场没有动态过程，而水平集有？**

  1. **符号距离场**是对当前几何形状的一个静态描述，提供了到形状边界的距离信息。它并不包含随时间变化的机制，任何形状的变化都需要通过手动更新距离场来实现，缺乏内在的自动演化过程。

  2. **水平集方法**是通过显式定义的偏微分方程来控制几何形状的动态变化。这种方程描述了标量场（即水平集函数）随时间的变化，从而间接控制形状的变化。水平集函数的演化不仅能处理形状变形，还能处理形状的拓扑变化，如分裂、合并等。

  **实际应用中的区别**

  - **符号距离场**常用于静态的几何建模、碰撞检测、体素化等任务，主要用于表达几何形状及其内部和外部的空间特性。
    
  - **水平集方法**常用于动态场景，例如流体模拟、形状优化、曲面演化等。这些任务需要几何形状在演化过程中发生变化，水平集方法能够通过偏微分方程自动更新形状，适应复杂的动态变化。

  **总结**

  符号距离场是一个静态几何表示方法，提供了到几何边界的距离信息，但不具备内在的动态演化机制。而水平集方法通过偏微分方程实现几何形状的动态演化，能够自然处理形状随时间的变化和拓扑结构的复杂变化。这就是为什么符号距离场没有内在的动态过程，而水平集方法可以通过偏微分方程控制几何形状的演化。

- Hausdorff measure

  Hausdorff measure（I维Hausdorff度量）是一个用于度量集合大小的概念，特别适用于处理复杂几何形状和分形。这种度量概念可以推广传统的长度、面积和体积。

  Hausdorff度量的基本思想是通过考虑覆盖集合的所有可能的方式，来定义集合的大小。我们通过一个逐渐减小的覆盖集合的尺度来逼近集合的实际尺寸。以下是详细的定义过程：

  **Hausdorff Measure的定义**

  设 $ S $ 是欧几里得空间中的一个集合，$ \delta > 0 $。对 $ S $ 的一个 $\delta$-覆盖是指一系列集合 $ \{U_i\} $，这些集合的直径都小于 $ \delta $，并且它们的并集覆盖 $ S $。

  对于一个实数 $ d $，定义 $ S $ 的 $ d $-维Hausdorff度量 $ \mathcal{H}^d(S) $ 如下：

  $ \mathcal{H}^d(S) = \lim_{\delta \to 0} \inf \left\{ \sum_{i=1}^{\infty} (\text{diam}(U_i))^d \mid S \subseteq \bigcup_{i=1}^{\infty} U_i, \text{diam}(U_i) < \delta \right\} $

  其中，$\text{diam}(U_i)$ 表示集合 $ U_i $ 的直径。

  **Hausdorff Measure的解释**

  - **覆盖**：我们使用一系列小集合来覆盖 $ S $。
  - **$\delta$-覆盖**：覆盖集合的每个小集合的直径都小于 $\delta$。
  - **$\inf$**：取所有可能的覆盖方式中的最小值。
  - **$\lim_{\delta \to 0}$**：随着 $\delta$ 趋近于 0，我们逐渐逼近集合的精确尺寸。

  **特殊情况**

  - **$ d = 1 $** 时，Hausdorff度量等价于通常的长度度量。
  - **$ d = 2 $** 时，Hausdorff度量等价于通常的面积度量。
  - **$ d = 3 $** 时，Hausdorff度量等价于通常的体积度量。

  当 $ d $ 不为整数时，Hausdorff度量可以用来度量分形的尺寸。这在处理自然界中复杂的几何结构（如海岸线、分形图形）时非常有用。

  **示例**

  例如，考虑单位区间 [0, 1]：

  - 当 $ d = 1 $ 时，$ \mathcal{H}^1([0, 1]) = 1 $，这与其长度一致。
  - 当 $ d = 2 $ 时，$ \mathcal{H}^2([0, 1]) = 0 $，因为一维线段在二维度量中没有面积。

  **总结**

  I-dimensional Hausdorff measure 是一种用于度量集合尺寸的广义工具，适用于传统几何和分形几何。通过引入不同的维度 $ d $，可以精确地描述各种复杂几何形状的大小。

- 数值微分

  数值微分是使用数值方法近似计算函数的导数。在实际应用中**，函数的解析形式可能未知或过于复杂，无法直接求导数**。此时，我们可以通过数值微分方法来近似求解导数。

  - 可以分为前向微分法，后向微分法，中心微分法。

## 问题

### Mesh deformation(网格形变)

网格形变也是一个mapping，输入是一个网格，输出也是一个网格（形变后的）

有两种deformation方法：

- 基于曲面的形变

  计算时在三角形网格上进行的。这类方法能够有很高的控制度，能够对每一个顶点都加以控制，但是其鲁棒性不好，运行效率往往取决网格的的复杂度和质量。

- 基于空间的形变

  即对曲面的变形是隐式的。因为计算不依赖于三角形网格曲面S，所以其不受网格复杂度和质量的影响；例如FFD算法。

**Transformation Propagation**

一个常用且简单的方法是将对控制点的变换传播到整个变形区域上。在指定好控制点H和变形区域R后，控制点由用户控制发生变换T，然后将变换T插值传播至变形区域R上，使得从固定区域F至变换后控制点所在的区域H的变化是平滑的。

两者间的插值混合可以由一个标量场s𝑠进行控制

![image-20240510154928473](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240510154928473.png)

s=1代表顶点处于控制区域H𝐻(区域内的顶点被完全变换)，s=0代表顶点处于固定区域F(区域内的顶点不发生变换)，而位于变换区域R内的顶点的S值则由顶点到区域F和区域H的距离决定。

![image-20240510155016511](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240510155016511.png)



**Multi-Scale Deformation**

前文的Shell-Based Deformation方法并不能够正确地处理小尺度的细节。由于对局部细节的旋转变换并不是线性的，所以不能够完全的使用线性的方法对其进行建模。一个更好的方法是使用后面即将介绍的多尺度变形的方法。

下图中，我们抬升正方形曲面的右侧，左二图展示了使用前文中的线性方法得到的结果，发现其细节并没有被正确的还原。使用Multi-Scale Deformation方法得到结果(左三图)虽然仍然有变形，但是已经和理想的情况(左四图)非常接近了。

ARAP 形变

![image-20240511195237838](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240511195237838.png)



![image-20240511195339228](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240511195339228.png)





### 曲线算法

### 曲面简化

### 求解最小曲面

### 曲面参数化

##### Tutte's embedding(切映射)

只能保证曲面和参数化平面之间的双射，不能保角，不能保边。

Tutte参数化是最常见的参数化方法。可以证明对于拓扑同胚于圆盘的网格，如果我们把网格的边界按顺序映射到一个凸多边形上并且内部顶点坐标是相邻顶点的凸组合，那么网格映射到平面后就是一个无翻转、无自交参数化。

通过求解(稀疏)线性方程组就可以得到参数化后的网格。当然Tutte参数化没有考虑任何形式的几何扭曲，因此Tutte参数化可能会出现各种挤压和扭曲的情况。

![image-20240610135457163](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610135457163.png)

##### ABF

Angle-Based Flattening

##### LSCM

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610105021264.png" alt="image-20240610105021264" style="zoom:67%;" />

上式即为复变函数中的**Cauchy-Riemann方程(Cauchy-Riemann equation)**。

直接使雅可比矩阵 = 一个相似变换矩阵，得到雅可比矩阵中偏导的关系。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610105158741.png" alt="image-20240610105158741" style="zoom:67%;" />

由于几何扭曲的存在，我们很难严格保证Cauchy-Riemann方程的成立。因此可以构造出共形能量：

![image-20240610135708091](C:\Users\YS\Desktop\note\image_list\typora-image\image-20240610135708091.png)

为防止能量出现退化，需固定两个点。固定的点不同，参数化的结果也不同（不唯一）

#### ARAP

保边

##### As-rigid-as-possible(ARAP) [尽可能刚性]

Paper: A Local/Global Approach to Mesh Parameterization

尽量保证变形途中三角形维持全等的特性应用到参数化过程中来	

ARAP算法通过迭代求解局部刚性变换和全局调整，可能会陷入局部最优解，而不是全局最优解。这意味着尽管局部变形被最小化，但全局结构可能会出现问题。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508154054750.png" alt="image-20240508154054750" style="zoom:50%;" />

- Isometric：等距变换（旋转+平移）【边长、角度、面积都相等】
- 保角变换
- 保面积变换
- 保角+保面积 = 等距变换

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508154408660.png" alt="image-20240508154408660" style="zoom:50%;" />

约束不同，对应的雅可比矩阵的两个奇异值的要求也不同。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508163548739.png" alt="image-20240508163548739" style="zoom:50%;" />

优化目标是求解最接近理想局部变换的全局变换, 因为目标函数是$f_t(x)=J_tx+b_t$，且尽量是isometric（等距变换），而$b_t$是平移操作，因此只需要雅可比矩阵是一个旋转变换即可。

这里上面的能量函数中的差值部分我们可以展开写为:

在上面这个式子中, 第一个等号是计算两个矩阵差之间的F范数（各元素平方之和的平方根）, 而进一步的, 这个差异可以展开为乘积的迹的形式.

对于有两个矩阵变量的情况下($J_t,L_t$)，我们没法优化这个式子, 但是如果我们固定其中的一项, 在这里先对每个面片求出其当前对应的$J_t$, 可以通过将Jacobian矩阵进行SVD分解来求出对于这个$J_t$差距最小的$L_t$的形式. (交替迭代)

使用Local/Global方法求解：

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508165101690.png" alt="image-20240508165101690" style="zoom:50%;" />

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508165119057.png" alt="image-20240508165119057" style="zoom:50%;" />



我们知道, 分解后的矩阵是对角矩阵, 其元素就是Jacobian矩阵的奇异值排列. 但是这里如果我们将SVD转为分解出奇异值为正的形式(方法: 奇异值对应分解出来的U和V, 对于奇异值为负的矩阵, 取正奇异值, 然后将那个矩阵的某一列全部加上负号即可)[为负时三角形面会出现翻转], 就可以通过来直接得到与$J_t$最符合的local变换$L_t$.即$L_t = UV^T$.

作业：ARAP 参数化(缺点：不能保证无翻转)

目标：

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508171536499.png" alt="image-20240508171536499" style="zoom:50%;" />

$A_t$是三角形的面积，代表权重

涉及到两个优化问题

局部：固定uv坐标（即固定雅可比矩阵），对雅可比矩阵进行一个带符号的svd分解，算出L-t，

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508171750558.png" alt="image-20240508171750558" style="zoom:50%;" />



全部：固定Lt，根据$L_t$解一个方程，将uv重新算出来。

<img src="C:\Users\YS\Desktop\note\image_list\typora-image\image-20240508171839488.png" alt="image-20240508171839488" style="zoom:50%;" />

输入：Tutte's embedding（相当于fix了2d的参数化坐标）

1. 求L_t，进行svd分解，但是需要signed，检查det(L_t)？0
2. 求J_t,最小二乘问题，求normal equation
3. 1和2迭代，终止条件：能量没有显著变化

### 曲面去噪、采样与剖分

##### Lloyd’s 算法

Lloyd’s algorithm 过程：

（1）首先在数据集中随机选定k个初始点

（2） 计算k个站点的Voronoi图。

（3）整合Voronoi图的每个单元格，并计算质心。

（4）然后将每个站点（k）移动到其Voronoi单元的质心。

### 参数化